<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>vicar Module &mdash; vicar  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=5929fcd5"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Welcome to vicar’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            vicar
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">vicar</span></code> Module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#vicar.VicarError"><code class="docutils literal notranslate"><span class="pre">VicarError</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#vicar.VicarImage"><code class="docutils literal notranslate"><span class="pre">VicarImage</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.__contains__"><code class="docutils literal notranslate"><span class="pre">VicarImage.__contains__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.__delitem__"><code class="docutils literal notranslate"><span class="pre">VicarImage.__delitem__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.__eq__"><code class="docutils literal notranslate"><span class="pre">VicarImage.__eq__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.__getitem__"><code class="docutils literal notranslate"><span class="pre">VicarImage.__getitem__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.__init__"><code class="docutils literal notranslate"><span class="pre">VicarImage.__init__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.__iter__"><code class="docutils literal notranslate"><span class="pre">VicarImage.__iter__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.__len__"><code class="docutils literal notranslate"><span class="pre">VicarImage.__len__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.__repr__"><code class="docutils literal notranslate"><span class="pre">VicarImage.__repr__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.__setitem__"><code class="docutils literal notranslate"><span class="pre">VicarImage.__setitem__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.__str__"><code class="docutils literal notranslate"><span class="pre">VicarImage.__str__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage._check_array_vs_prefix"><code class="docutils literal notranslate"><span class="pre">VicarImage._check_array_vs_prefix()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage._format_isint"><code class="docutils literal notranslate"><span class="pre">VicarImage._format_isint()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage._intfmt"><code class="docutils literal notranslate"><span class="pre">VicarImage._intfmt()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage._read_file"><code class="docutils literal notranslate"><span class="pre">VicarImage._read_file()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage._realfmt"><code class="docutils literal notranslate"><span class="pre">VicarImage._realfmt()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.arg"><code class="docutils literal notranslate"><span class="pre">VicarImage.arg()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.args"><code class="docutils literal notranslate"><span class="pre">VicarImage.args()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.as_dict"><code class="docutils literal notranslate"><span class="pre">VicarImage.as_dict()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.binheader_array"><code class="docutils literal notranslate"><span class="pre">VicarImage.binheader_array()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.copy"><code class="docutils literal notranslate"><span class="pre">VicarImage.copy()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.deepcopy"><code class="docutils literal notranslate"><span class="pre">VicarImage.deepcopy()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.from_array"><code class="docutils literal notranslate"><span class="pre">VicarImage.from_array()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.from_file"><code class="docutils literal notranslate"><span class="pre">VicarImage.from_file()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.get"><code class="docutils literal notranslate"><span class="pre">VicarImage.get()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.items"><code class="docutils literal notranslate"><span class="pre">VicarImage.items()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.keys"><code class="docutils literal notranslate"><span class="pre">VicarImage.keys()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.names"><code class="docutils literal notranslate"><span class="pre">VicarImage.names()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.values"><code class="docutils literal notranslate"><span class="pre">VicarImage.values()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.write_file"><code class="docutils literal notranslate"><span class="pre">VicarImage.write_file()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.array"><code class="docutils literal notranslate"><span class="pre">VicarImage.array</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.array2d"><code class="docutils literal notranslate"><span class="pre">VicarImage.array2d</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.array3d"><code class="docutils literal notranslate"><span class="pre">VicarImage.array3d</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.binheader"><code class="docutils literal notranslate"><span class="pre">VicarImage.binheader</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.data_2d"><code class="docutils literal notranslate"><span class="pre">VicarImage.data_2d</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.data_3d"><code class="docutils literal notranslate"><span class="pre">VicarImage.data_3d</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.filepath"><code class="docutils literal notranslate"><span class="pre">VicarImage.filepath</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.label"><code class="docutils literal notranslate"><span class="pre">VicarImage.label</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.prefix"><code class="docutils literal notranslate"><span class="pre">VicarImage.prefix</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.prefix2d"><code class="docutils literal notranslate"><span class="pre">VicarImage.prefix2d</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.prefix3d"><code class="docutils literal notranslate"><span class="pre">VicarImage.prefix3d</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.prefix_2d"><code class="docutils literal notranslate"><span class="pre">VicarImage.prefix_2d</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarImage.prefix_3d"><code class="docutils literal notranslate"><span class="pre">VicarImage.prefix_3d</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#vicar.VicarLabel"><code class="docutils literal notranslate"><span class="pre">VicarLabel</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel.__contains__"><code class="docutils literal notranslate"><span class="pre">VicarLabel.__contains__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel.__delitem__"><code class="docutils literal notranslate"><span class="pre">VicarLabel.__delitem__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel.__eq__"><code class="docutils literal notranslate"><span class="pre">VicarLabel.__eq__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel.__getitem__"><code class="docutils literal notranslate"><span class="pre">VicarLabel.__getitem__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel.__init__"><code class="docutils literal notranslate"><span class="pre">VicarLabel.__init__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel.__iter__"><code class="docutils literal notranslate"><span class="pre">VicarLabel.__iter__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel.__len__"><code class="docutils literal notranslate"><span class="pre">VicarLabel.__len__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel.__next__"><code class="docutils literal notranslate"><span class="pre">VicarLabel.__next__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel.__repr__"><code class="docutils literal notranslate"><span class="pre">VicarLabel.__repr__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel.__setitem__"><code class="docutils literal notranslate"><span class="pre">VicarLabel.__setitem__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel.__str__"><code class="docutils literal notranslate"><span class="pre">VicarLabel.__str__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel._add_plus"><code class="docutils literal notranslate"><span class="pre">VicarLabel._add_plus()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel._args"><code class="docutils literal notranslate"><span class="pre">VicarLabel._args()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel._finish_update"><code class="docutils literal notranslate"><span class="pre">VicarLabel._finish_update()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel._get_name"><code class="docutils literal notranslate"><span class="pre">VicarLabel._get_name()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel._has_plus"><code class="docutils literal notranslate"><span class="pre">VicarLabel._has_plus()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel._interpret_listfmt"><code class="docutils literal notranslate"><span class="pre">VicarLabel._interpret_listfmt()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel._interpret_source"><code class="docutils literal notranslate"><span class="pre">VicarLabel._interpret_source()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel._interpret_valfmt"><code class="docutils literal notranslate"><span class="pre">VicarLabel._interpret_valfmt()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel._interpret_value_format"><code class="docutils literal notranslate"><span class="pre">VicarLabel._interpret_value_format()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel._n123_from_nbls"><code class="docutils literal notranslate"><span class="pre">VicarLabel._n123_from_nbls()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel._nbls_from_n123"><code class="docutils literal notranslate"><span class="pre">VicarLabel._nbls_from_n123()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel._prep_for_export"><code class="docutils literal notranslate"><span class="pre">VicarLabel._prep_for_export()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel._remove_plus"><code class="docutils literal notranslate"><span class="pre">VicarLabel._remove_plus()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel._set_n321"><code class="docutils literal notranslate"><span class="pre">VicarLabel._set_n321()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel._set_nbls"><code class="docutils literal notranslate"><span class="pre">VicarLabel._set_nbls()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel._update"><code class="docutils literal notranslate"><span class="pre">VicarLabel._update()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel._validate_name"><code class="docutils literal notranslate"><span class="pre">VicarLabel._validate_name()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel._validate_required"><code class="docutils literal notranslate"><span class="pre">VicarLabel._validate_required()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel._validate_value"><code class="docutils literal notranslate"><span class="pre">VicarLabel._validate_value()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel.append"><code class="docutils literal notranslate"><span class="pre">VicarLabel.append()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel.arg"><code class="docutils literal notranslate"><span class="pre">VicarLabel.arg()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel.args"><code class="docutils literal notranslate"><span class="pre">VicarLabel.args()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel.as_string"><code class="docutils literal notranslate"><span class="pre">VicarLabel.as_string()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel.copy"><code class="docutils literal notranslate"><span class="pre">VicarLabel.copy()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel.export"><code class="docutils literal notranslate"><span class="pre">VicarLabel.export()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel.from_file"><code class="docutils literal notranslate"><span class="pre">VicarLabel.from_file()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel.get"><code class="docutils literal notranslate"><span class="pre">VicarLabel.get()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel.insert"><code class="docutils literal notranslate"><span class="pre">VicarLabel.insert()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel.items"><code class="docutils literal notranslate"><span class="pre">VicarLabel.items()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel.keys"><code class="docutils literal notranslate"><span class="pre">VicarLabel.keys()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel.name_value_str"><code class="docutils literal notranslate"><span class="pre">VicarLabel.name_value_str()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel.names"><code class="docutils literal notranslate"><span class="pre">VicarLabel.names()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel.read_label"><code class="docutils literal notranslate"><span class="pre">VicarLabel.read_label()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel.reorder"><code class="docutils literal notranslate"><span class="pre">VicarLabel.reorder()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel.value_str"><code class="docutils literal notranslate"><span class="pre">VicarLabel.value_str()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel.values"><code class="docutils literal notranslate"><span class="pre">VicarLabel.values()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel.write_label"><code class="docutils literal notranslate"><span class="pre">VicarLabel.write_label()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vicar.VicarLabel.filepath"><code class="docutils literal notranslate"><span class="pre">VicarLabel.filepath</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-vicar._LABEL_GRAMMAR">vicar._LABEL_GRAMMAR</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">vicar</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><code class="docutils literal notranslate"><span class="pre">vicar</span></code> Module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/module.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-vicar">
<span id="vicar-module"></span><h1><code class="docutils literal notranslate"><span class="pre">vicar</span></code> Module<a class="headerlink" href="#module-vicar" title="Link to this heading"></a></h1>
<p>VICAR File Support Module,
PDS Ring-Moon Systems Node, SETI Institute</p>
<p><strong>Introduction</strong></p>
<p><cite>vicar</cite> is a Python module that supports reading and writing of JPL’s VICAR file format.
It supports the definition of the VICAR file format as found here:</p>
<blockquote>
<div><p><a class="reference external" href="https://www-mipl.jpl.nasa.gov/external/VICAR_file_fmt.pdf">https://www-mipl.jpl.nasa.gov/external/VICAR_file_fmt.pdf</a></p>
</div></blockquote>
<p><strong>Getting Started</strong></p>
<p>The <cite>vicar</cite> modules provies these classes:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>VicarLabel</cite>: Class for reading, writing, and parsing of VICAR labels.</p></li>
<li><p><cite>VicarImage</cite>: Class for handling VICAR image (and other) data files.</p></li>
<li><p><cite>VicarError</cite>: Extension of class ValueError to contain exceptions.</p></li>
</ul>
</div></blockquote>
<p>To read a VICAR image file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">vicar</span>
<span class="n">vic</span> <span class="o">=</span> <span class="n">vicar</span><span class="o">.</span><span class="n">VicarImage</span><span class="p">(</span><span class="s2">&quot;path/to/file&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The returned <cite>VicarImage</cite> object “vic” has these attributes:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>vic.array</cite>: The 3-D data array converted to native format.</p></li>
<li><p><cite>vic.array2d</cite>: Same as above, but with leading dimension (typically, bands)
stripped.</p></li>
<li><p><cite>vic.prefix</cite>: The array prefix bytes as a 3-D array of unsigned bytes.</p></li>
<li><p><cite>vic.prefix2d</cite>: Same as above, but with the leading dimension stripped.</p></li>
<li><p><cite>vic.binheader</cite>: The binary header as a bytes object; use vic.binheader_array() to
extract information.</p></li>
<li><p><cite>vic.label</cite>: The internal VicarLabel object that manages the VICAR label
information, if direct access is needed.</p></li>
</ul>
</div></blockquote>
<p>VICAR parameter values can be extracted from the label using dictionary-like syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">vic</span><span class="p">)</span>                <span class="c1"># the number of parameters in the VICAR label.</span>
<span class="n">vic</span><span class="p">[</span><span class="s1">&#39;LBLSIZE&#39;</span><span class="p">]</span>          <span class="c1"># the value of the LBLSIZE parameter (an integer).</span>
<span class="n">vic</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>                  <span class="c1"># the value of the first parameter.</span>
<span class="n">vic</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>                 <span class="c1"># the value of the last parameter.</span>
<span class="n">vic</span><span class="p">[</span><span class="s1">&#39;LBLSIZE&#39;</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>       <span class="c1"># the value of the last occurrence of the LBLSIZE parameter.</span>
<span class="n">vic</span><span class="o">.</span><span class="n">get</span><span class="p">((</span><span class="s1">&#39;LBLSIZE&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="mi">99</span><span class="p">)</span>
                        <span class="c1"># the value of the third occurrence of the LBLSIZE</span>
                        <span class="c1"># parameter, or 99 if there are fewer than 3 occurrences.</span>
<span class="n">vic</span><span class="o">.</span><span class="n">arg</span><span class="p">(</span><span class="s1">&#39;LBLSIZE&#39;</span><span class="p">)</span>      <span class="c1"># the numeric index of &quot;LBLSIZE&quot; among the VICAR parameters.</span>
</pre></div>
</div>
<p>You can also use dictionary-like syntax to modify and insert header values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vic</span><span class="p">[</span><span class="s1">&#39;SOLDIST&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.e9</span>   <span class="c1"># set SOLDICT to this value.</span>
<span class="k">del</span> <span class="n">vic</span><span class="p">[</span><span class="s1">&#39;SOLDIST&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>    <span class="c1"># Remove the first occurrence of SOLDIST from the label.</span>
<span class="n">vic</span><span class="p">[</span><span class="s1">&#39;LBLSIZE+&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2000</span>  <span class="c1"># insert a new LBLSIZE parameter instead of modifying an</span>
                        <span class="c1"># existing one.</span>
</pre></div>
</div>
<p>Note that certain required VICAR parameters contain structural information about the
file; these cannot generally be modified directly.</p>
<p>Numerous methods are available to iterate over the VICAR label parameters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="n">value</span><span class="p">)</span> <span class="ow">in</span> <span class="n">vic</span><span class="o">.</span><span class="n">items</span><span class="p">():</span> <span class="o">...</span>
<span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">vic</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span> <span class="o">...</span>
<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">vic</span><span class="o">.</span><span class="n">names</span><span class="p">():</span> <span class="o">...</span>
<span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">vic</span><span class="o">.</span><span class="n">values</span><span class="p">():</span> <span class="o">...</span>
</pre></div>
</div>
<p>Iterators can take a regular expression as input to restrict the items returned:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">vic</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;LAB\d\d&#39;</span><span class="p">):</span> <span class="o">...</span>
</pre></div>
</div>
<p>Use <cite>str(vic)</cite> to get the VICAR label content represented as a string.</p>
<p>Here are the steps to create and write a VICAR image file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vic</span> <span class="o">=</span> <span class="n">VicarImage</span><span class="p">()</span>
<span class="n">vic</span><span class="o">.</span><span class="n">array</span> <span class="o">=</span> <span class="n">array</span>
<span class="n">vic</span><span class="o">.</span><span class="n">prefix</span> <span class="o">=</span> <span class="n">prefix</span>
<span class="n">vic</span><span class="o">.</span><span class="n">binheader</span> <span class="o">=</span> <span class="n">binheader</span>
<span class="n">vic</span><span class="p">[</span><span class="s1">&#39;NOTES&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;add as many more VICAR parameters&#39;</span><span class="p">,</span> <span class="s1">&#39;as you wish&#39;</span><span class="p">]</span>
<span class="n">vic</span><span class="o">.</span><span class="n">write_file</span><span class="p">(</span><span class="s2">&quot;path/to/file&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py exception">
<dt class="sig sig-object py" id="vicar.VicarError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vicar.</span></span><span class="sig-name descname"><span class="pre">VicarError</span></span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarError" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ValueError</span></code></p>
<p>ValueError subclass for violations of the VICAR format standard.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="vicar.VicarImage">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vicar.</span></span><span class="sig-name descname"><span class="pre">VicarImage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">array</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binheader</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarimage.html#VicarImage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarImage" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Constructor for a VicarImage.</p>
<p>This class defines the contents of a VICAR data file. It supports methods for reading
and writing files and for accessing header information.</p>
<p><strong>Properties</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p>array: The 3-D data array converted to native format.</p></li>
<li><p>array3d: Same as above.</p></li>
<li><p>array2d: Same as above, but with leading dimension (typically, bands) stripped.</p></li>
<li><p>prefix: The array prefix bytes as a 3-D array of unsigned bytes.</p></li>
<li><p>prefix3d: Same as above.</p></li>
<li><p>prefix2d: Same as above, but with the leading dimension stripped.</p></li>
<li><p>binheader: The binary header as a bytes object; use vic.binheader_array() to
extract information.</p></li>
<li><p>label: The internal object that manages the VICAR label information, available
if direct access to it is needed.</p></li>
</ul>
</div></blockquote>
<p><strong>Core Methods:</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>arg: The index of a parameter name within this label.</p></li>
<li><p>args: Iterator over the numeric indices of the parameters in a label.</p></li>
<li><p>binheader_array: Interpret the content of a binary header.</p></li>
<li><p>copy: A copy of this VicarImage.</p></li>
<li><p>deepcopy: An independent (deep) copy of this VicarImage.</p></li>
<li><p>from_array: Construct a VicarImage object for a NumPy array.</p></li>
<li><p>from_file: Construct a VicarImage object from the content of a VICAR data file.</p></li>
<li><p>get: Retrieve a label parameter value or return a default.</p></li>
<li><p>items: Iterator over the (name, value) tuples in the label.</p></li>
<li><p>keys: Iterator over the parameter names in the label as unique keys.</p></li>
<li><p>names: Iterator over the parameter names in the label.</p></li>
<li><p>values: Iterator over the parameter values in the label.</p></li>
<li><p>write_file: Write this object as a VICAR data file.</p></li>
</ul>
</div></blockquote>
<p><strong>Python Syntax Support Methods:</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>__contains__: Enables “name in image” syntax for checking a name in the label.</p></li>
<li><p>__delitem__: Enables “del image[name]” syntax to remove a label parameter name.</p></li>
<li><p>__eq__: Enables “a == b”, the test of whether two image objects are equal.</p></li>
<li><p>__getitem__: Enables “image[name]” dictionary-like syntax to get the value of
a label parameter.</p></li>
<li><p>__iter__: Enables “for key in image:” syntax to iterate over the label parameter
keys.</p></li>
<li><p>__len__: Enables “len(image)”, the number of parameters in the image’s label.</p></li>
<li><p>__repr__: Enables “repr(image)”, similar to the “str(label)”, but with the class
name included.</p></li>
<li><p>__setitem__: Enables “image[name] = value” dictionary-like syntax to set the
value of a label parameter.</p></li>
<li><p>__str__: Enables “str(image)”, returning a string representing the content of a
label.</p></li>
</ul>
</div></blockquote>
<p><strong>Notes About Dictionary Keys:</strong></p>
<blockquote>
<div><p>When using dictionary-like syntax to reference a parameter in a VICAR label, a
rich set of options are available. For example, if <cite>image</cite> is a VicarImage object,
then:</p>
<blockquote>
<div><ul class="simple">
<li><p>“image[n]” where <cite>n</cite> is an integer refers to the “nth” parameter in the
label. <cite>n</cite> can be positive or negative.</p></li>
<li><p>“image[name]” where <cite>name</cite> is a string refers to the first occurrence in the
label of a parameter with this name.</p></li>
<li><p>“image[name,n]” refers to the “nth” occurrence in the label of a parameter
with this name. <cite>n</cite> can be positive or negative.</p></li>
<li><p>“image[name, after]” where both items are strings refers to the first
occurrence of parameter <cite>name</cite> after the first occurrence of parameter
<cite>after</cite> and before the second occurrence of <cite>after</cite>.</p></li>
<li><p>“image[name, after, value]” refers to the first occurrence of parameter
<cite>name</cite> after the first location where <cite>after</cite> equals <cite>value</cite> and before the
next occurrence of <cite>after</cite>.</p></li>
</ul>
</div></blockquote>
<p>The last two options make it easy to reference a VICAR label parameter that is
repeated. For example, “image[‘DAT_TIM’, ‘TASK’, ‘COPY’]” uniquely identifies the
occurrence of “DAT_TIM” applicable to “TASK=’COPY’” when there might be other
“TASK” sections of the image label containing other values of “DAT_TIM”.</p>
<p>Append a “+” to <cite>name</cite> to expand upon the function’s behavior. With “get”
operations, a list is returned identifying all of the occurrences of the selected
name rather than just the first or “nth”. With “set” operations, a new occurrence
of <cite>name</cite> is inserted into the label even if the a parameter of the given name is
already present.</p>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarImage.__contains__">
<span class="sig-name descname"><span class="pre">__contains__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarimage.html#VicarImage.__contains__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarImage.__contains__" title="Link to this definition"></a></dt>
<dd><p>True if the given key can is found in the label of this VicarImage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>int</em><em>, </em><em>str</em><em>, or </em><em>tuple</em>) – <p>The key identifying the label parameter to check.</p>
<ul class="simple">
<li><p><em>int</em> = <cite>n</cite>: The “nth” parameter in the label. <cite>n</cite> can be positive or
negative.</p></li>
<li><p><em>str</em> = <cite>name</cite>: The first occurrence in the label of a parameter with
this name.</p></li>
<li><p>(<em>str</em>, <em>int</em>) = (<cite>name</cite>, <cite>n</cite>): The “nth” occurrence in the label of a
parameter with this name. <cite>n</cite> can be positive or negative.</p></li>
<li><p>(<em>str</em>, <em>str</em>) = (<cite>name</cite>, <cite>after</cite>): The first occurrence of parameter
<cite>name</cite> after the first occurrence of parameter <cite>after</cite> and before the
second occurrence of <cite>after</cite>.</p></li>
<li><p>(<em>str</em>, <em>str</em>, <em>any</em>) = (<cite>name</cite>, <cite>after</cite>, <cite>value</cite>): The first occurrence
of parameter <cite>name</cite> after the first location where <cite>after</cite> equals
<cite>value</cite> and before the next occurrence of <cite>after</cite>.</p></li>
</ul>
<p>The last two options make it easy to reference a VICAR label parameter
that is repeated. For example, if image is a VicarImage, then
image[“DAT_TIM”, “TASK”, “COPY”] uniquely identifies the occurrence of
“DAT_TIM” applicable to “TASK=’COPY’” when there might be other “TASK”
sections of the image label containing other values of “DAT_TIM”.</p>
</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the key is found within the label.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarImage.__delitem__">
<span class="sig-name descname"><span class="pre">__delitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarimage.html#VicarImage.__delitem__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarImage.__delitem__" title="Link to this definition"></a></dt>
<dd><p>Delete the value of the VICAR parameter identified by the given key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>int</em><em>, </em><em>str</em><em>, or </em><em>tuple</em>) – <p>The indexing key, interpreted as follows:</p>
<ul class="simple">
<li><p><em>int</em> = <cite>n</cite>: The “nth” parameter in the label. <cite>n</cite> can be positive or
negative.</p></li>
<li><p><em>str</em> = <cite>name</cite>: The first occurrence in the label of a parameter with
this name.</p></li>
<li><p>(<em>str</em>, <em>int</em>) = (<cite>name</cite>, <cite>n</cite>): The “nth” occurrence in the label of a
parameter with this name. <cite>n</cite> can be positive or negative.</p></li>
<li><p>(<em>str</em>, <em>str</em>) = (<cite>name</cite>, <cite>after</cite>): The first occurrence of parameter
<cite>name</cite> after the first occurrence of parameter <cite>after</cite> and before the
second occurrence of <cite>after</cite>.</p></li>
<li><p>(<em>str</em>, <em>str</em>, <em>any</em>) = (<cite>name</cite>, <cite>after</cite>, <cite>value</cite>): The first occurrence
of parameter <cite>name</cite> after the first location where <cite>after</cite> equals
<cite>value</cite> and before the next occurrence of <cite>after</cite>.</p></li>
</ul>
<p>The last two options make it easy to reference a VICAR label parameter
that is repeated. For example, if image is a VicarImage, then
image[“DAT_TIM”, “TASK”, “COPY”] uniquely identifies the occurrence of
“DAT_TIM” applicable to “TASK=’COPY’” when there might be other “TASK”
sections of the image label containing other values of “DAT_TIM”.</p>
<p>Append a “+” to <cite>name</cite> to delete all of the label parameters whose names
match the constraints, starting with the first or “nth”.</p>
</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IndexError</strong> – If any numeric component of the key is out of range.</p></li>
<li><p><strong>KeyError</strong> – If the parameter name is not present in the label (or the section
    of the label defined by <cite>after_name</cite> and <cite>after_value</cite>), or if the key
    format is unrecognized.</p></li>
<li><p><strong>TypeError</strong> – If the key is not a recognized type or contains a component that is
    not of a recognized type.</p></li>
<li><p><strong>ValueError</strong> – If no identified parameter equals <cite>value</cite> or if no occurrence of
    <cite>after_name</cite> equals <cite>after_value</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarImage.__eq__">
<span class="sig-name descname"><span class="pre">__eq__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarimage.html#VicarImage.__eq__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarImage.__eq__" title="Link to this definition"></a></dt>
<dd><p>True if this VicarImage is equal to the given object.</p>
<p>VicarImages are equal if the label content, data array, prefix array, binary
header are all equal. Label formatting hints need not be the same.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>other</strong> (<a class="reference internal" href="#vicar.VicarImage" title="vicar.VicarImage"><em>VicarImage</em></a>) – Second VicarImage to compare with this.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the objects are equal.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarImage.__getitem__">
<span class="sig-name descname"><span class="pre">__getitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarimage.html#VicarImage.__getitem__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarImage.__getitem__" title="Link to this definition"></a></dt>
<dd><p>Retrieve the value or values of the VICAR parameter defined by key, using
various indexing options.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>int</em><em>, </em><em>name</em><em>, or </em><em>tuple</em>) – <p>The indexing key, interpreted as follows:</p>
<ul class="simple">
<li><p><em>int</em> = <cite>n</cite>: The “nth” parameter in the label. <cite>n</cite> can be positive or
negative.</p></li>
<li><p><em>str</em> = <cite>name</cite>: The first occurrence in the label of a parameter with
this name.</p></li>
<li><p>(<em>str</em>, <em>int</em>) = (<cite>name</cite>, <cite>n</cite>): The “nth” occurrence in the label of a
parameter with this name. <cite>n</cite> can be positive or negative.</p></li>
<li><p>(<em>str</em>, <em>str</em>) = (<cite>name</cite>, <cite>after</cite>): The first occurrence of parameter
<cite>name</cite> after the first occurrence of parameter <cite>after</cite> and before the
second occurrence of <cite>after</cite>.</p></li>
<li><p>(<em>str</em>, <em>str</em>, <em>any</em>) = (<cite>name</cite>, <cite>after</cite>, <cite>value</cite>): The first occurrence
of parameter <cite>name</cite> after the first location where <cite>after</cite> equals
<cite>value</cite> and before the next occurrence of <cite>after</cite>.</p></li>
</ul>
<p>The last two options make it easy to reference a VICAR label parameter
that is repeated. For example, if image is a VicarImage, then
image[“DAT_TIM”, “TASK”, “COPY”] uniquely identifies the occurrence of
“DAT_TIM” applicable to “TASK=’COPY’” when there might be other “TASK”
sections of the image label containing other values of “DAT_TIM”.</p>
<p>Append a “+” to the name to return a list of all values where the
constraints are satisfied, starting with the first or “nth”.</p>
</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The value of the indexed parameter if there is no name ending in “+”;
otherwise, a list of all the parameter values starting with the “nth”.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int, float, string, or list</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IndexError</strong> – If any numeric component of the key is out of range.</p></li>
<li><p><strong>KeyError</strong> – If the parameter name is not present in the label (or the section of
    the label defined by <cite>after_name</cite> and <cite>after_value</cite>), or if the key format
    is unrecognized.</p></li>
<li><p><strong>TypeError</strong> – If the key is not a recognized type or contains a component that is
    not of a recognized type.</p></li>
<li><p><strong>ValueError</strong> – If no identified parameter equals <cite>value</cite> or if no occurrence of
    <cite>after_name</cite> equals <cite>after_value</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarImage.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">array</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binheader</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarimage.html#VicarImage.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarImage.__init__" title="Link to this definition"></a></dt>
<dd><p>Constructor for a VicarImage object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>pathlib.Path</em><em>, </em><em>str</em><em>, or </em><a class="reference internal" href="#vicar.VicarLabel" title="vicar.VicarLabel"><em>VicarLabel</em></a><em>, </em><em>optional</em>) – Source for the VicarImage based on a file path or VicarLabel; if not
specified (equvalent to source=None), a minimal label is created.</p></li>
<li><p><strong>array</strong> (<em>array-like</em><em>, </em><em>optional</em>) – Optional data array for this object. If the source is a file path,
this array will override that in the file.</p></li>
<li><p><strong>prefix</strong> (<em>array-like</em><em>, </em><em>optional</em>) – Optional prefix bytes for this object. If the source is a file
path, this value will override that in the file. To remove the
prefix array found in the file, use prefix=[].</p></li>
<li><p><strong>binheader</strong> (<em>array-like</em><em> or </em><em>bytes</em><em>, </em><em>optional</em>) – Optional binary header for this data file. If the source is a
file path, this value will override that in the file. To remove
the binheader found in the file, use binheader=b’’.</p></li>
<li><p><strong>strict</strong> (<em>bool</em><em>, </em><em>optional</em>) – True (the default) to require strict conformance to the VICAR standard;
False for a looser version of the standard. If <cite>source</cite> is a VicarLabel,
this input is ignored; the value already assigned to the <cite>source</cite> is used
instead.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarImage.__iter__">
<span class="sig-name descname"><span class="pre">__iter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarimage.html#VicarImage.__iter__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarImage.__iter__" title="Link to this definition"></a></dt>
<dd><p>Iterator over the unique names or (name, occurrence) pairs in the label of
this VicarImage.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The parameter keys within this label, in order. The key is the parameter
name if it is unique or (name, occurrence number) otherwise.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>iterator</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarImage.__len__">
<span class="sig-name descname"><span class="pre">__len__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarimage.html#VicarImage.__len__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarImage.__len__" title="Link to this definition"></a></dt>
<dd><p>The number of keywords in the label of this VicarImage.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of parameters in the VICAR label</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarImage.__repr__">
<span class="sig-name descname"><span class="pre">__repr__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarimage.html#VicarImage.__repr__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarImage.__repr__" title="Link to this definition"></a></dt>
<dd><p>Return repr(self).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarImage.__setitem__">
<span class="sig-name descname"><span class="pre">__setitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarimage.html#VicarImage.__setitem__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarImage.__setitem__" title="Link to this definition"></a></dt>
<dd><p>Set the value of the VICAR parameter defined by the given key; define a new
parameter name and value if necessary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>int</em><em>, </em><em>str</em><em>, or </em><em>tuple</em>) – <p>The indexing key, interpreted as follows:</p>
<ul>
<li><p><em>int</em> = <cite>n</cite>: The “nth” parameter in the label. <cite>n</cite> can be positive or
negative.</p></li>
<li><p><em>str</em> = <cite>name</cite>: The first occurrence in the label of a parameter with
this name.</p></li>
<li><p>(<em>str</em>, <em>int</em>) = (<cite>name</cite>, <cite>n</cite>): The “nth” occurrence in the label of a
parameter with this name. <cite>n</cite> can be positive or negative.</p></li>
<li><p>(<em>str</em>, <em>str</em>) = (<cite>name</cite>, <cite>after</cite>): The first occurrence of parameter
<cite>name</cite> after the first occurrence of parameter <cite>after</cite> and before the
second occurrence of <cite>after</cite>.</p></li>
<li><p>(<em>str</em>, <em>str</em>, <em>any</em>) = (<cite>name</cite>, <cite>after</cite>, <cite>value</cite>): The first occurrence
of parameter <cite>name</cite> after the first location where <cite>after</cite> equals
<cite>value</cite> and before the next occurrence of <cite>after</cite>.</p></li>
</ul>
<p>The last two options make it easy to reference a VICAR label parameter
that is repeated. For example, if image is a VicarImage, then
image[“DAT_TIM”, “TASK”, “COPY”] uniquely identifies the occurrence of
“DAT_TIM” applicable to “TASK=’COPY’” when there might be other “TASK”
sections of the image label containing other values of “DAT_TIM”.</p>
<p>Append a “+” to the name to force a new occurrence of the key to be
inserted, even if the key already exists.</p>
</p></li>
<li><p><strong>value</strong> (<em>int</em><em>, </em><em>float</em><em>, </em><em>string</em><em>, </em><em>list</em><em>, or </em><em>tuple</em>) – <p>Value to assign to the indexed
entry in the label.</p>
<p>Optional formatting can be included if a user wants additional control
over how this value will be formatted in the label string will be
formatted, by replacing the value with a tuple (value, hints…). See
<code class="docutils literal notranslate"><span class="pre">Notes</span></code> for details about formatting hints.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IndexError</strong> – If any numeric component of the key is out of range.</p></li>
<li><p><strong>KeyError</strong> – If the parameter name is not present in the label (or the section of
    the label defined by <cite>after_name</cite> and <cite>after_value</cite>), or if the key format
    is unrecognized.</p></li>
<li><p><strong>TypeError</strong> – If the key is not a recognized type or contains a component that is
    not of a recognized type.</p></li>
<li><p><strong>ValueError</strong> – If no identified parameter equals <cite>value</cite> or if no occurrence of
    <cite>after_name</cite> equals <cite>after_value</cite>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Formatting hints can be included wherever a VICAR parameter value is
specified; simply replace the value by a tuple (value, hints…).</p>
<p>Hints can be specified using up to four items:</p>
<blockquote>
<div><p>([<cite>format</cite>][[[, <cite>name_blanks</cite>], <cite>val_blanks</cite>], <cite>sep_blanks</cite>])</p>
</div></blockquote>
<p>where:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>format</cite> is a format string, e.g., “%+7d” or “%7.3f”.</p></li>
<li><p><cite>name_blanks</cite> is the number of blank characters after the name and
before the equal sign; zero by default.</p></li>
<li><p><cite>val_blanks</cite> is the number of blank characters after the equal sign and
before the value; zero by default.</p></li>
<li><p><cite>sep_blanks</cite> is the number of blanks after the value and before the next
label parameter or the label’s end; two by default.</p></li>
</ul>
</div></blockquote>
<p>Note the use of square brackets in the tuple expression above. If the first
hint value is a string, it is interpreted as <cite>format</cite>; otherwise, the <cite>format</cite>
is unspecified. After the optional format, values are interpreted as numbers
of blanks. If only one int is provided, it defines <cite>sep_blanks</cite>, with
<cite>val_blanks</cite> and <cite>name_blanks</cite> set to zero. If two trailing ints are provided,
they define <cite>val_blanks</cite> and <cite>sep_blanks</cite>, with <cite>name_blanks</cite> set to zero.</p>
<p>For example, if the name is “TEXP” and the value is 1.5, this is how hint
values are interpreted:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">no</span> <span class="n">hints</span><span class="o">&gt;</span>        <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>     <span class="o">-&gt;</span> <span class="s2">&quot;TEXP=1.5  &quot;</span>
<span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span>            <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TEXP=1.500  &quot;</span>
<span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>       <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TEXP=1.500    &quot;</span>
<span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>    <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TEXP= 1.500    &quot;</span>
<span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TEXP  = 1.500    &quot;</span>
<span class="mi">4</span>                 <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>     <span class="o">-&gt;</span> <span class="s2">&quot;TEXP=1.5    &quot;</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>            <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>     <span class="o">-&gt;</span> <span class="s2">&quot;TEXP= 1.5    &quot;</span>
<span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>         <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>     <span class="o">-&gt;</span> <span class="s2">&quot;TEXP  = 1.5    &quot;</span>
</pre></div>
</div>
<p>When the parameter value is a list, it is also possible to embed formatting
information on an item by item basis. Replace any item value by a tuple:</p>
<blockquote>
<div><p>(<cite>item`[, `format</cite>][[, <cite>blanks_before</cite>], <cite>blanks_after</cite>])</p>
</div></blockquote>
<p>where:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>format</cite> is a format string, e.g., “%+07d”, “%12.3e” or “%.4f”.</p></li>
<li><p><cite>blanks_before</cite> is the number of blanks before the value, after the left
parenthesis or comma; zero is the default.</p></li>
<li><p><cite>blanks_after</cite> is the number of blanks after the value and before the
next comma or the right parenthesis; zero is the default.</p></li>
</ul>
</div></blockquote>
<p>Here are some examples of a list with embedded formatting for a parameter
named “XY” with a value [7,6]:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%+02d</span><span class="s2">&quot;</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>       <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%+02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="s2">&quot;XY=[+07, 6]  &quot;</span>
<span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>             <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>      <span class="o">-&gt;</span> <span class="s2">&quot;XY=[7  , 6]  &quot;</span>
<span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">])</span>         <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>      <span class="o">-&gt;</span> <span class="s2">&quot;XY=[ 7  , 6]  &quot;</span>
<span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">])</span>    <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>  <span class="o">-&gt;</span> <span class="s2">&quot;XY=[07  , 6]  &quot;</span>
<span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">])</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>  <span class="o">-&gt;</span> <span class="s2">&quot;XY=[ 07  , 6]  &quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarImage.__str__">
<span class="sig-name descname"><span class="pre">__str__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarimage.html#VicarImage.__str__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarImage.__str__" title="Link to this definition"></a></dt>
<dd><p>Return str(self).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarImage._check_array_vs_prefix">
<span class="sig-name descname"><span class="pre">_check_array_vs_prefix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prefix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarimage.html#VicarImage._check_array_vs_prefix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarImage._check_array_vs_prefix" title="Link to this definition"></a></dt>
<dd><p>Raise an exception if the given image array and prefix byte array are not
compatible.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array</strong> (<em>np.ndarray</em><em> or </em><em>None</em>) – A data array.</p></li>
<li><p><strong>prefix</strong> (<em>np.ndarray</em><em> or </em><em>None</em>) – A prefix array.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#vicar.VicarError" title="vicar.VicarError"><strong>VicarError</strong></a> – If the arrays are invalid or inconsistent with one another.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarImage._format_isint">
<span class="sig-name descname"><span class="pre">_format_isint</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarimage.html#VicarImage._format_isint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarImage._format_isint" title="Link to this definition"></a></dt>
<dd><p>True if this array contains integer values.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarImage._intfmt">
<span class="sig-name descname"><span class="pre">_intfmt</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarimage.html#VicarImage._intfmt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarImage._intfmt" title="Link to this definition"></a></dt>
<dd><p>Determine the INTFMT based on the dtype of an array.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarImage._read_file">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_read_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extraneous</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ignore'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarimage.html#VicarImage._read_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarImage._read_file" title="Link to this definition"></a></dt>
<dd><p>The VICAR data array, binary header, and prefix bytes from the specified
data file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> (<em>pathlib.Path</em><em> or </em><em>str</em>) – Path to an existing VICAR data file.</p></li>
<li><p><strong>extraneous</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>How to handle the presence of extraneous bytes at the end of the file, one
of:</p>
<ul>
<li><p>”error”   to raise VicarError;</p></li>
<li><p>”warn”    to raise a UserWarning;</p></li>
<li><p>”print”   to print a message;</p></li>
<li><p>”ignore”  to ignore;</p></li>
<li><p>”include” to include the extraneous bytes as part of the return.</p></li>
</ul>
</p></li>
<li><p><strong>strict</strong> (<em>bool</em><em>, </em><em>optional</em>) – True (the default) to require strict conformance to
the VICAR standard; False for a looser version of the standard.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>A tuple containing:</p>
<ul class="simple">
<li><p>VicarLabel: The label.</p></li>
<li><p>np.ndarray: The data as a 3D array converted to native format.</p></li>
<li><p>np.ndarray or None: The prefix array as a 3D array of unsigned bytes if
present; otherwise, None.</p></li>
<li><p>bytes: The binary header if present; otherwise, None.</p></li>
<li><p>bytes, optional: Any extraneous bytes at the end of the file, included if
<cite>extraneous</cite> equals “include”.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(<a class="reference internal" href="#vicar.VicarLabel" title="vicar.VicarLabel">VicarLabel</a>, np.ndarray, np.ndarray or None, bytes[, bytes])</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>OSError</strong> – If the referenced file could not be read.</p></li>
<li><p><strong>ValueError</strong> – If <cite>extraneous</cite> does not have a valid value.</p></li>
<li><p><a class="reference internal" href="#vicar.VicarError" title="vicar.VicarError"><strong>VicarError</strong></a> – If the referenced file does not conform to the VICAR standard.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarImage._realfmt">
<span class="sig-name descname"><span class="pre">_realfmt</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarimage.html#VicarImage._realfmt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarImage._realfmt" title="Link to this definition"></a></dt>
<dd><p>Determine the REALFMT value based on the dtype of an array.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarImage.arg">
<span class="sig-name descname"><span class="pre">arg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarimage.html#VicarImage.arg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarImage.arg" title="Link to this definition"></a></dt>
<dd><p>The index or indices of the keyed item in the label of this VicarImage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>int</em><em>, </em><em>name</em><em>, or </em><em>tuple</em>) – <p>The indexing key, interpreted as follows:</p>
<ul>
<li><p><em>int</em> = <cite>n</cite>: The “nth” parameter in the label. <cite>n</cite> can be positive or
negative.</p></li>
<li><p><em>str</em> = <cite>name</cite>: The first occurrence in the label of a parameter with
this name.</p></li>
<li><p>(<em>str</em>, <em>int</em>) = (<cite>name</cite>, <cite>n</cite>): The “nth” occurrence in the label of a
parameter with this name. <cite>n</cite> can be positive or negative.</p></li>
<li><p>(<em>str</em>, <em>str</em>) = (<cite>name</cite>, <cite>after</cite>): The first occurrence of parameter
<cite>name</cite> after the first occurrence of parameter <cite>after</cite> and before the
second occurrence of <cite>after</cite>.</p></li>
<li><p>(<em>str</em>, <em>str</em>, <em>any</em>) = (<cite>name</cite>, <cite>after</cite>, <cite>value</cite>): The first occurrence
of parameter <cite>name</cite> after the first location where <cite>after</cite> equals
<cite>value</cite> and before the next occurrence of <cite>after</cite>.</p></li>
</ul>
<p>The last two options make it easy to reference parameter in a label that
is re-used, such as to find the value of “DAT_TIM” applicable to
“TASK=’COPY’” when there might be other “TASK” sections of the label
containing other values of “DAT_TIM”.</p>
<p>Append a “+” to the name to return a list of all indices where the
constraints are satisfied, starting with the first or “nth”.</p>
</p></li>
<li><p><strong>value</strong> (<em>int</em><em>, </em><em>float</em><em>, or </em><em>string</em><em>, </em><em>optional</em>) – If provided, the identified parameter must equal this value. For an
integer key, if the indexed parameter does not have this value, ValueError
is raised. For any key involving a name, values of the named parameter
that do not match <cite>value</cite> are skipped over until the one(s) with the
correct value are found.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If “+” is appended to <cite>name</cite>, the list of all positive indices that
identify matching parameters, starting with the “nth”. Otherwise, the
single positive index into the label identifying the parameter.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int or list[int]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IndexError</strong> – If any numeric component of the key is out of range.</p></li>
<li><p><strong>KeyError</strong> – If the parameter name is not present in the label (or the section of
    the label defined by <cite>after_name</cite> and <cite>after_value</cite>), or if the key format
    is unrecognized.</p></li>
<li><p><strong>TypeError</strong> – If the key is not a recognized type or contains a component that is
    not of a recognized type.</p></li>
<li><p><strong>ValueError</strong> – If no identified parameter equals <cite>value</cite> or if no occurrence of
    <cite>after_name</cite> equals <cite>after_value</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarImage.args">
<span class="sig-name descname"><span class="pre">args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarimage.html#VicarImage.args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarImage.args" title="Link to this definition"></a></dt>
<dd><p>Iterator over the numerical indices of the keywords in the label of this
VicarImage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pattern</strong> (<em>str</em><em> or </em><em>re.Pattern</em><em>, </em><em>optional</em>) – Regular expression that can be used to filter the label parameter names.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The indices of the matching parameter names within this label, in order.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>iterator</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarImage.as_dict">
<span class="sig-name descname"><span class="pre">as_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarimage.html#VicarImage.as_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarImage.as_dict" title="Link to this definition"></a></dt>
<dd><p>The VicarLabel object.</p>
<p>DEPRECATED, provided primarily for backward compatibility. Use the <cite>label</cite>
property instead, because it behaves as a dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The VicarLabel object associated with this VicarImage.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#vicar.VicarLabel" title="vicar.VicarLabel">VicarLabel</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarImage.binheader_array">
<span class="sig-name descname"><span class="pre">binheader_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kind</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarimage.html#VicarImage.binheader_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarImage.binheader_array" title="Link to this definition"></a></dt>
<dd><p>The numbers embedded in a binary header.</p>
<p>This method is capable of reading “ISIS” table files when those tables consist
entirely of a single data format. It uses the FMT_DEFAULT parameter to determine
dtype, and uses the NR and NC values, if present, to determine the number of rows
and columns in the table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kind</strong> (<em>str</em><em>, </em><em>optional</em>) – Optional single-letter code for the data type: “u” for unsigned int; “i”
for signed int; “f” for float. If not specified, the kind is inferred from
the value of the FMT_DEFAULT parameter.</p></li>
<li><p><strong>size</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of bytes per value. If not provided, it is inferred from the
FMT_DEFAULT parameter if present. Otherwise, the default is 1 for kind =
“u”; 2 for kind = “i”; 4 for kind = “f”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The binary header as an array; None if there is no binary header.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarImage.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarimage.html#VicarImage.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarImage.copy" title="Link to this definition"></a></dt>
<dd><p>A copy of this VicarImage.</p>
<p>The copied label is independent of the original, but the data and prefix array
are shared.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The copy.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#vicar.VicarImage" title="vicar.VicarImage">VicarImage</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarImage.deepcopy">
<span class="sig-name descname"><span class="pre">deepcopy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">memo</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarimage.html#VicarImage.deepcopy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarImage.deepcopy" title="Link to this definition"></a></dt>
<dd><p>An independent (deep) copy of this VicarImage.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The deep copy.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#vicar.VicarImage" title="vicar.VicarImage">VicarImage</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarImage.from_array">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarimage.html#VicarImage.from_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarImage.from_array" title="Link to this definition"></a></dt>
<dd><p>Construct a VicarImage object for an array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array</strong> (<em>array-like</em>) – The data array to use in this VicarImage object.</p></li>
<li><p><strong>strict</strong> (<em>bool</em><em>, </em><em>optional</em>) – True (the default) to require strict conformance to the VICAR standard;
False for a looser version of the standard.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new VicarImage object containing this data array.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#vicar.VicarImage" title="vicar.VicarImage">VicarImage</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarImage.from_file">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extraneous</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ignore'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarimage.html#VicarImage.from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarImage.from_file" title="Link to this definition"></a></dt>
<dd><p>VicarImage object from an existing VICAR image file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> (<em>pathlib.Path</em><em> or </em><em>str</em>) – Path to an existing VICAR data file.</p></li>
<li><p><strong>extraneous</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>How to handle the presence of extraneous bytes at the end of the file, one
of:</p>
<ul>
<li><p>”error”   to raise VicarError;</p></li>
<li><p>”warn”    to raise a UserWarning;</p></li>
<li><p>”print”   to print a message;</p></li>
<li><p>”ignore”  to ignore;</p></li>
<li><p>”include” to include the extraneous bytes as part of the return.</p></li>
</ul>
</p></li>
<li><p><strong>strict</strong> (<em>bool</em><em>, </em><em>optional</em>) – True (the default) to require strict conformance to the VICAR standard;
False for a looser version of the standard.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>A VicarImage or a tuple containing:</p>
<ul class="simple">
<li><p>VicarImage: A new object containing the content of the specified file.</p></li>
<li><p>bytes or None: Any extraneous bytes from the end of the file, included if
if <cite>extraneous</cite> equals “include”.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#vicar.VicarImage" title="vicar.VicarImage">VicarImage</a> or (<a class="reference internal" href="#vicar.VicarImage" title="vicar.VicarImage">VicarImage</a>, bytes or None)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarImage.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarimage.html#VicarImage.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarImage.get" title="Link to this definition"></a></dt>
<dd><p>Retrieve the value of the VICAR parameter defined by the given key, using
various indexing options.</p>
<p>If the key is not found, return a specified default value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>int</em><em>, </em><em>str</em><em>, or </em><em>tuple</em>) – <p>The indexing key, interpreted as follows:</p>
<ul>
<li><p><em>int</em> = <cite>n</cite>: The “nth” parameter in the label. <cite>n</cite> can be positive or
negative.</p></li>
<li><p><em>str</em> = <cite>name</cite>: The first occurrence in the label of a parameter with
this name.</p></li>
<li><p>(<em>str</em>, <em>int</em>) = (<cite>name</cite>, <cite>n</cite>): The “nth” occurrence in the label of a
parameter with this name. <cite>n</cite> can be positive or negative.</p></li>
<li><p>(<em>str</em>, <em>str</em>) = (<cite>name</cite>, <cite>after</cite>): The first occurrence of parameter
<cite>name</cite> after the first occurrence of parameter <cite>after</cite> and before the
second occurrence of <cite>after</cite>.</p></li>
<li><p>(<em>str</em>, <em>str</em>, <em>any</em>) = (<cite>name</cite>, <cite>after</cite>, <cite>value</cite>): The first occurrence
of parameter <cite>name</cite> after the first location where <cite>after</cite> equals
<cite>value</cite> and before the next occurrence of <cite>after</cite>.</p></li>
</ul>
<p>The last two options make it easy to reference a VICAR label parameter
that is repeated. For example, if image is a VicarImage, then
image[“DAT_TIM”, “TASK”, “COPY”] uniquely identifies the occurrence of
“DAT_TIM” applicable to “TASK=’COPY’” when there might be other “TASK”
sections of the image label containing other values of “DAT_TIM”.</p>
<p>Append a “+” to the name to return a list of all values where the
constraints are satisfied, starting with the first or “nth”.</p>
</p></li>
<li><p><strong>default</strong> (<em>int</em><em>, </em><em>float</em><em>, </em><em>str</em><em>, or </em><em>list</em>) – The value to return if the key is not
found.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>If a name is provided that ends in a plus, the returned value will be the
list of all values of the selected key, or else <cite>[default]</cite> if the list
would be empty or the key would raise an error.</p>
<p>Otherwise, the returned value is that of the key if present, or <cite>default</cite>
if it is not.</p>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int, float, str, or list</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IndexError</strong> – If any numeric component of the key is out of range.</p></li>
<li><p><strong>KeyError</strong> – If the parameter name is not present in the label (or the section of
    the label defined by <cite>after_name</cite> and <cite>after_value</cite>), or if the key format
    is unrecognized.</p></li>
<li><p><strong>TypeError</strong> – If the key is not a recognized type or contains a component that is
    not of a recognized type.</p></li>
<li><p><strong>ValueError</strong> – If no identified parameter equals <cite>value</cite> or if no occurrence of
    <cite>after_name</cite> equals <cite>after_value</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarImage.items">
<span class="sig-name descname"><span class="pre">items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unique</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarimage.html#VicarImage.items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarImage.items" title="Link to this definition"></a></dt>
<dd><p>Iterator over the (key, value) pairs in the label of this VicarImage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> (<em>str</em><em> or </em><em>re.Pattern</em><em>, </em><em>optional</em>) – Regular expression that can be used to filter the label parameter names.</p></li>
<li><p><strong>unique</strong> (<em>bool</em><em>, </em><em>optional</em>) – True to return unique keys, in which non-unique names are replaced by
tuples (name, occurrence). If False, all keys are name strings, and a name
may appear multiple times.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuples (name, value) of the matching parameter names within this label, in
order.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>iterator</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarImage.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarimage.html#VicarImage.keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarImage.keys" title="Link to this definition"></a></dt>
<dd><p>Iterator over the keys in the label of this VicarImage. The key is the
parameter name if it is unique or (name, occurrence number) otherwise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pattern</strong> (<em>str</em><em> or </em><em>re.Pattern</em><em>, </em><em>optional</em>) – Regular expression that can be used to filter the label parameter names.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The parameter keys within this label, in order. Each key is the parameter
name if it is unique or (name, occurrence number) otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarImage.names">
<span class="sig-name descname"><span class="pre">names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarimage.html#VicarImage.names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarImage.names" title="Link to this definition"></a></dt>
<dd><p>Iterator for the VICAR parameter name strings in the label of this VicarImage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pattern</strong> (<em>str</em><em> or </em><em>re.Pattern</em><em>, </em><em>optional</em>) – Regular expression that can be used to filter the label parameter names.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The matching parameter names within this label, in order.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarImage.values">
<span class="sig-name descname"><span class="pre">values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarimage.html#VicarImage.values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarImage.values" title="Link to this definition"></a></dt>
<dd><p>Iterator over the values in the label of this VicarImage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pattern</strong> (<em>str</em><em> or </em><em>re.Pattern</em><em>, </em><em>optional</em>) – Regular expression that can be used to filter the label parameter names.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The values of the matching parameters within this label, in order.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>iterator</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarImage.write_file">
<span class="sig-name descname"><span class="pre">write_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarimage.html#VicarImage.write_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarImage.write_file" title="Link to this definition"></a></dt>
<dd><p>Write the VicarImage object into a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filepath</strong> (<em>path.Pathlib</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – Optional the path of the file to write. If not specified but this object’s
filepath attribute is defined, it will write to this file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vicar.VicarImage.array">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">array</span></span><a class="headerlink" href="#vicar.VicarImage.array" title="Link to this definition"></a></dt>
<dd><p>The data array.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The data array if it is present; otherwise, None.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>np.ndarray or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vicar.VicarImage.array2d">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">array2d</span></span><a class="headerlink" href="#vicar.VicarImage.array2d" title="Link to this definition"></a></dt>
<dd><p>The data array as 2-D.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The data array as 2-dimensional if it is present; otherwise, None.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>np.ndarray or None</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#vicar.VicarError" title="vicar.VicarError"><strong>VicarError</strong></a> – If the array has more than two dimensions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vicar.VicarImage.array3d">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">array3d</span></span><a class="headerlink" href="#vicar.VicarImage.array3d" title="Link to this definition"></a></dt>
<dd><p>The data array as 3-D.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The data array as 3-dimensional if it is present; otherwise, None.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>np.ndarray or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vicar.VicarImage.binheader">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">binheader</span></span><a class="headerlink" href="#vicar.VicarImage.binheader" title="Link to this definition"></a></dt>
<dd><p>The binary header as an array or bytes object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The binary header if present; otherwise, None.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>np.ndarray, bytes, or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vicar.VicarImage.data_2d">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data_2d</span></span><a class="headerlink" href="#vicar.VicarImage.data_2d" title="Link to this definition"></a></dt>
<dd><p>The data array as 2-D; DEPRECATED name.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The data array as 2-dimensional if it is present; otherwise, None.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>np.ndarray or None</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#vicar.VicarError" title="vicar.VicarError"><strong>VicarError</strong></a> – If the array has more than two dimensions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vicar.VicarImage.data_3d">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data_3d</span></span><a class="headerlink" href="#vicar.VicarImage.data_3d" title="Link to this definition"></a></dt>
<dd><p>The data array as 3-D; DEPRECATED name.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The data array as 3-dimensional if it is present; otherwise, None.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>np.ndarray or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vicar.VicarImage.filepath">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">filepath</span></span><a class="headerlink" href="#vicar.VicarImage.filepath" title="Link to this definition"></a></dt>
<dd><p>The path to the associated file.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The path to the associated file, if any.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pathlib.Path or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vicar.VicarImage.label">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">label</span></span><a class="headerlink" href="#vicar.VicarImage.label" title="Link to this definition"></a></dt>
<dd><p>The VicarLabel object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The VicarLabel object.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#vicar.VicarLabel" title="vicar.VicarLabel">VicarLabel</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vicar.VicarImage.prefix">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">prefix</span></span><a class="headerlink" href="#vicar.VicarImage.prefix" title="Link to this definition"></a></dt>
<dd><p>The image prefix object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The image prefix as a 2-dimensional array.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vicar.VicarImage.prefix2d">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">prefix2d</span></span><a class="headerlink" href="#vicar.VicarImage.prefix2d" title="Link to this definition"></a></dt>
<dd><p>The image prefix as a 2-D array.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The image prefix as a 2-dimensional array.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>np.ndarray</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#vicar.VicarError" title="vicar.VicarError"><strong>VicarError</strong></a> – If the prefix array has more than two dimensions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vicar.VicarImage.prefix3d">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">prefix3d</span></span><a class="headerlink" href="#vicar.VicarImage.prefix3d" title="Link to this definition"></a></dt>
<dd><p>The image prefix as a 3-D array.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The image prefix as a 3-dimensional array.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vicar.VicarImage.prefix_2d">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">prefix_2d</span></span><a class="headerlink" href="#vicar.VicarImage.prefix_2d" title="Link to this definition"></a></dt>
<dd><p>The image prefix as a 2-D array; DEPRECATED name.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The image prefix as a 2-dimensional array.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>np.ndarray</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#vicar.VicarError" title="vicar.VicarError"><strong>VicarError</strong></a> – If the prefix array has more than two dimensions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vicar.VicarImage.prefix_3d">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">prefix_3d</span></span><a class="headerlink" href="#vicar.VicarImage.prefix_3d" title="Link to this definition"></a></dt>
<dd><p>The image prefix as a 3-D array; DEPRECATED name.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The image prefix as a 2-dimensional array.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="vicar.VicarLabel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vicar.</span></span><span class="sig-name descname"><span class="pre">VicarLabel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class to support accessing, reading, modifying, and writing VICAR labels.</p>
<p><strong>Properties:</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>filepath: The file path associated with this VicarLabel.</p></li>
</ul>
</div></blockquote>
<p><strong>Core Methods:</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>append: Append one or more parameters to the end of this label.</p></li>
<li><p>arg: The index of a parameter name within this label.</p></li>
<li><p>args: Iterator over the numeric indices of the parameters in this label.</p></li>
<li><p>as_string: A string representing all or part of this label.</p></li>
<li><p>copy: An independent (deep) copy of this VicarLabel.</p></li>
<li><p>export: Returns a label parameter string of the form NAME=VALUE.</p></li>
<li><p>from_file: Construct a VicarLabel object from the content of a VICAR data file.</p></li>
<li><p>get: Retrieve a label parameter value or return a default.</p></li>
<li><p>insert: Insert one or more parameters into this label.</p></li>
<li><p>items: Iterator over the (name, value) tuples in this label.</p></li>
<li><p>keys: Iterator over the parameter names in this label as unique keys.</p></li>
<li><p>name_value_str: Returns a label parameter string of the form NAME=VALUE.</p></li>
<li><p>names: Iterator over the parameter names in this label.</p></li>
<li><p>read_label: Read the label string(s) from a file.</p></li>
<li><p>reorder: Reorder the parameters in this label.</p></li>
<li><p>value_str: Formats a label parameter value.</p></li>
<li><p>values: Iterator over the parameter values in this label.</p></li>
<li><p>write_label: Write this label into a data file, replacing an existing label.</p></li>
</ul>
</div></blockquote>
<p><strong>Python Syntax Support Methods:</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>__contains__: Enables “name in label” syntax.</p></li>
<li><p>__delitem__: Enables “del label[name]” syntax.</p></li>
<li><p>__eq__: Enables “a == b”, the test of whether two labels are equal.</p></li>
<li><p>__getitem__: Enables “label[name]” dictionary-like syntax.</p></li>
<li><p>__iter__: Enables “for key in label:” syntax.</p></li>
<li><p>__len__: Enables “len(label)”, the number of parameters in the given VicarLabel.</p></li>
<li><p>__repr__: Enables “repr(label)”, similar to the “str(label)”, but with the class
name included.</p></li>
<li><p>__setitem__: Enables “label[name] = value” dictionary-like syntax.</p></li>
<li><p>__str__: Enables “str(label)”, returning a string representing the content of a
label.</p></li>
</ul>
</div></blockquote>
<p><strong>Notes About Dictionary Keys:</strong></p>
<blockquote>
<div><p>When using dictionary-like syntax to reference a parameter in a VICAR label, a
rich set of options are available. For example, if <cite>label</cite> is a VicarLabel object,
then:</p>
<blockquote>
<div><ul class="simple">
<li><p>“label[n]” where <cite>n</cite> is an integer refers to the “nth” parameter in the
label. <cite>n</cite> can be positive or negative.</p></li>
<li><p>“label[name]” where <cite>name</cite> is a string refers to the first occurrence in the
label of a parameter with this name.</p></li>
<li><p>“label[name,n]” refers to the “nth” occurrence in the label of a parameter
with this name. <cite>n</cite> can be positive or negative.</p></li>
<li><p>“label[name, after]” where both items are strings refers to the first
occurrence of parameter <cite>name</cite> after the first occurrence of parameter
<cite>after</cite> and before the second occurrence of <cite>after</cite>.</p></li>
<li><p>“label[name, after, value]” refers to the first occurrence of parameter
<cite>name</cite> after the first location where <cite>after</cite> equals <cite>value</cite> and before the
next occurrence of <cite>after</cite>.</p></li>
</ul>
</div></blockquote>
<p>The last two options make it easy to reference a VICAR label parameter that is
repeated. For example, “label[‘DAT_TIM’, ‘TASK’, ‘COPY’]” uniquely identifies the
occurrence of “DAT_TIM” applicable to “TASK=’COPY’” when there might be other
“TASK” sections of the label containing other values of “DAT_TIM”.</p>
<p>Append a “+” to <cite>name</cite> to expand upon the function’s behavior. With “get”
operations, a list is returned identifying all of the occurrences of the selected
name rather than just the first or “nth”. With “set” operations, a new occurrence
of <cite>name</cite> is inserted into the label even if the a parameter of the given name is
already present.</p>
</div></blockquote>
<p><strong>Notes About VICAR Label Formatting Hints:</strong></p>
<blockquote>
<div><p>Formatting hints can be included wherever a VICAR parameter value is specified.
When defining label parameters using a list of tuples, use (name, value, hints…)
instead of (name, value). Elsewhere, simply replace the value by a tuple (value,
hints…).</p>
<p>Hints can be specified using up to four items:</p>
<blockquote>
<div><p>([<cite>format</cite>][[[, <cite>name_blanks</cite>], <cite>val_blanks</cite>], <cite>sep_blanks</cite>])</p>
</div></blockquote>
<p>where:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>format</cite> is a format string, e.g., “%+7d” or “%7.3f”.</p></li>
<li><p><cite>name_blanks</cite> is the number of blank characters after the name and before
the equal sign; zero by default.</p></li>
<li><p><cite>val_blanks</cite> is the number of blank characters after the equal sign and
before the value; zero by default.</p></li>
<li><p><cite>sep_blanks</cite> is the number of blanks after the value and before the next
label parameter or the label’s end; two by default.</p></li>
</ul>
</div></blockquote>
<p>Note the use of square brackets in the tuple expression above. If the first hint
value is a string, it is interpreted as <cite>format</cite>; otherwise, the <cite>format</cite> is
unspecified. After the optional format, values are interpreted as numbers of
blanks. If only one int is provided, it defines <cite>sep_blanks</cite>, with <cite>val_blanks</cite>
and <cite>name_blanks</cite> set to zero. If two trailing ints are provided, they define
<cite>val_blanks</cite> and <cite>sep_blanks</cite>, with <cite>name_blanks</cite> set to zero.</p>
<p>For example, if the name is “TEXP” and the value is 1.5, this is how hint values
are interpreted:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">no</span> <span class="n">hints</span><span class="o">&gt;</span>        <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>     <span class="o">-&gt;</span> <span class="s2">&quot;TEXP=1.5  &quot;</span>
<span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span>            <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TEXP=1.500  &quot;</span>
<span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>       <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TEXP=1.500    &quot;</span>
<span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>    <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TEXP= 1.500    &quot;</span>
<span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TEXP  = 1.500    &quot;</span>
<span class="mi">4</span>                 <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>     <span class="o">-&gt;</span> <span class="s2">&quot;TEXP=1.5    &quot;</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>            <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>     <span class="o">-&gt;</span> <span class="s2">&quot;TEXP= 1.5    &quot;</span>
<span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>         <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>     <span class="o">-&gt;</span> <span class="s2">&quot;TEXP  = 1.5    &quot;</span>
</pre></div>
</div>
<p>When the parameter value is a list, it is also possible to embed formatting
information on an item by item basis. Replace any item value by a tuple:</p>
<blockquote>
<div><p>(<cite>item`[, `format</cite>][[, <cite>blanks_before</cite>], <cite>blanks_after</cite>])</p>
</div></blockquote>
<p>where:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>format</cite> is a format string, e.g., “%+07d”, “%12.3e” or “%.4f”.</p></li>
<li><p><cite>blanks_before</cite> is the number of blanks before the value, after the left
parenthesis or comma; zero is the default.</p></li>
<li><p><cite>blanks_after</cite> is the number of blanks after the value and before the next
next comma or the right parenthesis; zero is the default.</p></li>
</ul>
</div></blockquote>
<p>Here are some examples of a list with embedded formatting for a parameter named
“XY” with a value [7,6]:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%+02d</span><span class="s2">&quot;</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>       <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%+02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="s2">&quot;XY=[+07, 6]  &quot;</span>
<span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>             <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>      <span class="o">-&gt;</span> <span class="s2">&quot;XY=[7  , 6]  &quot;</span>
<span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">])</span>         <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>      <span class="o">-&gt;</span> <span class="s2">&quot;XY=[ 7  , 6]  &quot;</span>
<span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">])</span>    <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>  <span class="o">-&gt;</span> <span class="s2">&quot;XY=[07  , 6]  &quot;</span>
<span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">])</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>  <span class="o">-&gt;</span> <span class="s2">&quot;XY=[ 07  , 6]  &quot;</span>
</pre></div>
</div>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel.__contains__">
<span class="sig-name descname"><span class="pre">__contains__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel.__contains__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel.__contains__" title="Link to this definition"></a></dt>
<dd><p>True if the given key can be used to index the VICAR label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>int</em><em>, </em><em>str</em><em>, or </em><em>tuple</em>) – <p>The indexing key, interpreted as follows:</p>
<ul class="simple">
<li><p><em>int</em> = <cite>n</cite>: The “nth” parameter in the label. <cite>n</cite> can be positive or
negative.</p></li>
<li><p><em>str</em> = <cite>name</cite>: The first occurrence in the label of a parameter with
this name.</p></li>
<li><p>(<em>str</em>, <em>int</em>) = (<cite>name</cite>, <cite>n</cite>): The “nth” occurrence in the label of a
parameter with this name. <cite>n</cite> can be positive or negative.</p></li>
<li><p>(<em>str</em>, <em>str</em>) = (<cite>name</cite>, <cite>after</cite>): The first occurrence of parameter
<cite>name</cite> after the first occurrence of parameter <cite>after</cite> and before the
second occurrence of <cite>after</cite>.</p></li>
<li><p>(<em>str</em>, <em>str</em>, <em>any</em>) = (<cite>name</cite>, <cite>after</cite>, <cite>value</cite>): The first occurrence
of parameter <cite>name</cite> after the first location where <cite>after</cite> equals
<cite>value</cite> and before the next occurrence of <cite>after</cite>.</p></li>
</ul>
<p>The last two options make it easy to reference a VICAR label parameter
that is repeated. For example, label[“DAT_TIM”, “TASK”, “COPY”] uniquely
identifies the occurrence of “DAT_TIM” applicable to “TASK=’COPY’” when
there might be other “TASK” sections of the label containing other values
of “DAT_TIM”.</p>
</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the key is found within this label.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel.__delitem__">
<span class="sig-name descname"><span class="pre">__delitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel.__delitem__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel.__delitem__" title="Link to this definition"></a></dt>
<dd><p>Delete the value of the VICAR parameter identified by the given key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>int</em><em>, </em><em>str</em><em>, or </em><em>tuple</em>) – <p>The indexing key, interpreted as follows:</p>
<ul class="simple">
<li><p><em>int</em> = <cite>n</cite>: The “nth” parameter in the label. <cite>n</cite> can be positive or
negative.</p></li>
<li><p><em>str</em> = <cite>name</cite>: The first occurrence in the label of a parameter with
this name.</p></li>
<li><p>(<em>str</em>, <em>int</em>) = (<cite>name</cite>, <cite>n</cite>): The “nth” occurrence in the label of a
parameter with this name. <cite>n</cite> can be positive or negative.</p></li>
<li><p>(<em>str</em>, <em>str</em>) = (<cite>name</cite>, <cite>after</cite>): The first occurrence of parameter
<cite>name</cite> after the first occurrence of parameter <cite>after</cite> and before the
second occurrence of <cite>after</cite>.</p></li>
<li><p>(<em>str</em>, <em>str</em>, <em>any</em>) = (<cite>name</cite>, <cite>after</cite>, <cite>value</cite>): The first occurrence
of parameter <cite>name</cite> after the first location where <cite>after</cite> equals
<cite>value</cite> and before the next occurrence of <cite>after</cite>.</p></li>
</ul>
<p>The last two options make it easy to reference a VICAR label parameter
that is repeated. For example, label[“DAT_TIM”, “TASK”, “COPY”] uniquely
identifies the occurrence of “DAT_TIM” applicable to “TASK=’COPY’” when
there might be other “TASK” sections of the label containing other values
of “DAT_TIM”.</p>
<p>Append a “+” to <cite>name</cite> to delete all of the label parameters whose names
match the constraints, starting with the first or “nth”.</p>
</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IndexError</strong> – If any numeric component of the key is out of range.</p></li>
<li><p><strong>KeyError</strong> – If the parameter name is not present in the label (or the section
    of the label defined by <cite>after_name</cite> and <cite>after_value</cite>), or if the key
    format is unrecognized.</p></li>
<li><p><strong>TypeError</strong> – If the key is not a recognized type or contains a component that is
    not of a recognized type.</p></li>
<li><p><strong>ValueError</strong> – If no identified parameter equals <cite>value</cite> or if no occurrence of
    <cite>after_name</cite> equals <cite>after_value</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel.__eq__">
<span class="sig-name descname"><span class="pre">__eq__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel.__eq__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel.__eq__" title="Link to this definition"></a></dt>
<dd><p>VicarLabels are equal if they have the same parameter names in the same order.
Formatting and filepath are ignored.</p>
<p>VicarLabels are equal if their parameters and values are all the same; formatting
hints need not be the same.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>other</strong> (<a class="reference internal" href="#vicar.VicarLabel" title="vicar.VicarLabel"><em>VicarLabel</em></a>) – Second VicarLabel to compare with this.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the names and values are equal.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel.__getitem__">
<span class="sig-name descname"><span class="pre">__getitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel.__getitem__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel.__getitem__" title="Link to this definition"></a></dt>
<dd><p>Retrieve the value or values of the VICAR parameter defined by key, using
various indexing options.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>int</em><em>, </em><em>name</em><em>, or </em><em>tuple</em>) – <p>The indexing key, interpreted as follows:</p>
<ul class="simple">
<li><p><em>int</em> = <cite>n</cite>: The “nth” parameter in the label. <cite>n</cite> can be positive or
negative.</p></li>
<li><p><em>str</em> = <cite>name</cite>: The first occurrence in the label of a parameter with
this name.</p></li>
<li><p>(<em>str</em>, <em>int</em>) = (<cite>name</cite>, <cite>n</cite>): The “nth” occurrence in the label of a
parameter with this name. <cite>n</cite> can be positive or negative.</p></li>
<li><p>(<em>str</em>, <em>str</em>) = (<cite>name</cite>, <cite>after</cite>): The first occurrence of parameter
<cite>name</cite> after the first occurrence of parameter <cite>after</cite> and before the
second occurrence of <cite>after</cite>.</p></li>
<li><p>(<em>str</em>, <em>str</em>, <em>any</em>) = (<cite>name</cite>, <cite>after</cite>, <cite>value</cite>): The first occurrence
of parameter <cite>name</cite> after the first location where <cite>after</cite> equals
<cite>value</cite> and before the next occurrence of <cite>after</cite>.</p></li>
</ul>
<p>The last two options make it easy to reference a VICAR label parameter
that is repeated. For example, label[“DAT_TIM”, “TASK”, “COPY”] uniquely
identifies the occurrence of “DAT_TIM” applicable to “TASK=’COPY’” when
there might be other “TASK” sections of the label containing other values
of “DAT_TIM”.</p>
<p>Append a “+” to the name to return a list of all values where the
constraints are satisfied, starting with the first or “nth”.</p>
</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If <cite>key</cite> contains a name ending in “+”, this is the list of values of the
matching parameters, starting with the “nth”. Otherwise, it is the single
matching value.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int, float, string, or list</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IndexError</strong> – If any numeric component of the key is out of range.</p></li>
<li><p><strong>KeyError</strong> – If the parameter name is not present in the label (or the section of
    the label defined by <cite>after_name</cite> and <cite>after_value</cite>), or if the key format
    is unrecognized.</p></li>
<li><p><strong>TypeError</strong> – If the key is not a recognized type or contains a component that is
    not of a recognized type.</p></li>
<li><p><strong>ValueError</strong> – If no identified parameter equals <cite>value</cite> or if no occurrence of
    <cite>after_name</cite> equals <cite>after_value</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel.__init__" title="Link to this definition"></a></dt>
<dd><p>Constructor for a VicarLabel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>file</em><em>, </em><em>pathlib.Path</em><em>, </em><em>str</em><em>, </em><em>None</em><em>, </em><em>dict</em><em>, or </em><em>list</em>) – <p>A representation of a VICAR label:</p>
<ul>
<li><p><em>file</em>: The label string is read from the given, open file.</p></li>
<li><p><em>pathlib.Path</em>: The label string is read from the referenced file.</p></li>
<li><p><em>str</em>: First, a check is performed to see if it is path to an existing
file. If so, the label is read from that file; otherwise, the string is
itself interpreted as a VICAR label string.</p></li>
<li><p><em>None</em>: The returned VicarLabel only contains the required parameters
with their default values.</p></li>
<li><p><em>dict</em>: The label parameters are the names of the dictionary keys, given
in the order they were entered into the dictionary. Each dictionary
value is either the VICAR parameter value or a tuple(value, formatting
hints).</p></li>
<li><p><em>list</em>: The label is derived from the given sequence of (name, value) or
(name, value, formatting hints) tuples.</p></li>
</ul>
<p>See <code class="docutils literal notranslate"><span class="pre">Notes</span></code> for details about formatting hints.</p>
</p></li>
<li><p><strong>strict</strong> (<em>bool</em><em>, </em><em>optional</em>) – <p>True (the default) to require strict conformance to the VICAR standard;
False for a looser version of the standard. The standard is described
here:</p>
<blockquote>
<div><p><a class="reference external" href="https://pds-rings.seti.org/help/VICAR_file_fmt.pdf">https://pds-rings.seti.org/help/VICAR_file_fmt.pdf</a></p>
</div></blockquote>
<p>When <cite>strict</cite> is False:</p>
<blockquote>
<div><ul>
<li><p>names can exceed 32 characters and contain lower case letters.</p></li>
<li><p>string values need not be pure 7-bit ASCII.</p></li>
<li><p>lists can contain a mixture of types.</p></li>
<li><p>lists can be empty.</p></li>
</ul>
</div></blockquote>
</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>OSError</strong> – If the source is given as a file path that cannot be read.</p></li>
<li><p><strong>TypeError</strong> – If the source is an unrecognized type or contains an unrecognized
    type.</p></li>
<li><p><a class="reference internal" href="#vicar.VicarError" title="vicar.VicarError"><strong>VicarError</strong></a> – If the source violates the VICAR standard or a required VICAR
    parameter has an invalid value.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Formatting hints can be included wherever a VICAR parameter value is
specified. When defining label parameters using a list of tuples, use (name,
value, hints…) instead of (name, value). Elsewhere, simply replace the value
by a tuple (value, hints…).</p>
<p>Hints can be specified using up to four items:</p>
<blockquote>
<div><p>([<cite>format</cite>][[[, <cite>name_blanks</cite>], <cite>val_blanks</cite>], <cite>sep_blanks</cite>])</p>
</div></blockquote>
<p>where:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>format</cite> is a format string, e.g., “%+7d” or “%7.3f”.</p></li>
<li><p><cite>name_blanks</cite> is the number of blank characters after the name and
before the equal sign; zero by default.</p></li>
<li><p><cite>val_blanks</cite> is the number of blank characters after the equal sign and
before the value; zero by default.</p></li>
<li><p><cite>sep_blanks</cite> is the number of blanks after the value and before the next
label parameter or the label’s end; two by default.</p></li>
</ul>
</div></blockquote>
<p>Note the use of square brackets in the tuple expression above. If the first
hint value is a string, it is interpreted as <cite>format</cite>; otherwise, the <cite>format</cite>
is unspecified. After the optional format, values are interpreted as numbers
of blanks. If only one int is provided, it defines <cite>sep_blanks</cite>, with
<cite>val_blanks</cite> and <cite>name_blanks</cite> set to zero. If two trailing ints are provided,
they define <cite>val_blanks</cite> and <cite>sep_blanks</cite>, with <cite>name_blanks</cite> set to zero.</p>
<p>For example, if the name is “TEXP” and the value is 1.5, this is how hint
values are interpreted:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">no</span> <span class="n">hints</span><span class="o">&gt;</span>        <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>     <span class="o">-&gt;</span> <span class="s2">&quot;TEXP=1.5  &quot;</span>
<span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span>            <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TEXP=1.500  &quot;</span>
<span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>       <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TEXP=1.500    &quot;</span>
<span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>    <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TEXP= 1.500    &quot;</span>
<span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TEXP  = 1.500    &quot;</span>
<span class="mi">4</span>                 <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>     <span class="o">-&gt;</span> <span class="s2">&quot;TEXP=1.5    &quot;</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>            <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>     <span class="o">-&gt;</span> <span class="s2">&quot;TEXP= 1.5    &quot;</span>
<span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>         <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>     <span class="o">-&gt;</span> <span class="s2">&quot;TEXP  = 1.5    &quot;</span>
</pre></div>
</div>
<p>When the parameter value is a list, it is also possible to embed formatting
information on an item by item basis. Replace any item value by a tuple:</p>
<blockquote>
<div><p>(<cite>item`[, `format</cite>][[, <cite>blanks_before</cite>], <cite>blanks_after</cite>])</p>
</div></blockquote>
<p>where:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>format</cite> is a format string, e.g., “%+07d”, “%12.3e” or “%.4f”.</p></li>
<li><p><cite>blanks_before</cite> is the number of blanks before the value, after the left
parenthesis or comma; zero is the default.</p></li>
<li><p><cite>blanks_after</cite> is the number of blanks after the value and before the
next comma or the right parenthesis; zero is the default.</p></li>
</ul>
</div></blockquote>
<p>Here are some examples of a list with embedded formatting for a parameter
named “XY” with a value [7,6]:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%+02d</span><span class="s2">&quot;</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>       <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%+02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="s2">&quot;XY=[+07, 6]  &quot;</span>
<span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>             <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>      <span class="o">-&gt;</span> <span class="s2">&quot;XY=[7  , 6]  &quot;</span>
<span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">])</span>         <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>      <span class="o">-&gt;</span> <span class="s2">&quot;XY=[ 7  , 6]  &quot;</span>
<span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">])</span>    <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>  <span class="o">-&gt;</span> <span class="s2">&quot;XY=[07  , 6]  &quot;</span>
<span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">])</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>  <span class="o">-&gt;</span> <span class="s2">&quot;XY=[ 07  , 6]  &quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel.__iter__">
<span class="sig-name descname"><span class="pre">__iter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel.__iter__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel.__iter__" title="Link to this definition"></a></dt>
<dd><p>Iterator over the unique names or (name, occurrence) pairs in the label.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An iterator over the parameter keys within this label, in order. The key
is the parameter name if it is unique or (name, occurrence number)
otherwise.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>iterator</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel.__len__">
<span class="sig-name descname"><span class="pre">__len__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel.__len__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel.__len__" title="Link to this definition"></a></dt>
<dd><p>The number of keywords in the VICAR label.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of keywords.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel.__next__">
<span class="sig-name descname"><span class="pre">__next__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel.__next__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel.__next__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel.__repr__">
<span class="sig-name descname"><span class="pre">__repr__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel.__repr__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel.__repr__" title="Link to this definition"></a></dt>
<dd><p>Return repr(self).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel.__setitem__">
<span class="sig-name descname"><span class="pre">__setitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel.__setitem__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel.__setitem__" title="Link to this definition"></a></dt>
<dd><p>Set the value of the VICAR parameter defined by the given key; define a new
parameter name and value if necessary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>int</em><em>, </em><em>str</em><em>, or </em><em>tuple</em>) – <p>The indexing key, interpreted as follows:</p>
<ul>
<li><p><em>int</em> = <cite>n</cite>: The “nth” parameter in the label. <cite>n</cite> can be positive or
negative.</p></li>
<li><p><em>str</em> = <cite>name</cite>: The first occurrence in the label of a parameter with
this name.</p></li>
<li><p>(<em>str</em>, <em>int</em>) = (<cite>name</cite>, <cite>n</cite>): The “nth” occurrence in the label of a
parameter with this name. <cite>n</cite> can be positive or negative.</p></li>
<li><p>(<em>str</em>, <em>str</em>) = (<cite>name</cite>, <cite>after</cite>): The first occurrence of parameter
<cite>name</cite> after the first occurrence of parameter <cite>after</cite> and before the
second occurrence of <cite>after</cite>.</p></li>
<li><p>(<em>str</em>, <em>str</em>, <em>any</em>) = (<cite>name</cite>, <cite>after</cite>, <cite>value</cite>): The first occurrence
of parameter <cite>name</cite> after the first location where <cite>after</cite> equals
<cite>value</cite> and before the next occurrence of <cite>after</cite>.</p></li>
</ul>
<p>The last two options make it easy to reference a VICAR label parameter
that is repeated. For example, label[“DAT_TIM”, “TASK”, “COPY”] uniquely
identifies the occurrence of “DAT_TIM” applicable to “TASK=’COPY’” when
there might be other “TASK” sections of the label containing other values
of “DAT_TIM”.</p>
<p>Append a “+” to the name to force a new occurrence of the key to be
inserted, even if the key already exists.</p>
</p></li>
<li><p><strong>value</strong> (<em>int</em><em>, </em><em>float</em><em>, </em><em>string</em><em>, </em><em>list</em><em>, or </em><em>tuple</em>) – <p>Value to assign to the indexed entry in the label.</p>
<p>Optional formatting can be included if a user wants additional control
over how this value will be formatted in the label string will be
formatted, by replacing the value with a tuple (value, hints…). See
<code class="docutils literal notranslate"><span class="pre">Notes</span></code> for details about formatting hints.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IndexError</strong> – If any numeric component of the key is out of range.</p></li>
<li><p><strong>KeyError</strong> – If the parameter name is not present in the label (or the section of
    the label defined by <cite>after_name</cite> and <cite>after_value</cite>), or if the key format
    is unrecognized.</p></li>
<li><p><strong>TypeError</strong> – If the key is not a recognized type or contains a component that is
    not of a recognized type.</p></li>
<li><p><strong>ValueError</strong> – If no identified parameter equals <cite>value</cite> or if no occurrence of
    <cite>after_name</cite> equals <cite>after_value</cite>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Formatting hints can be included wherever a VICAR parameter value is
specified; simply replace the value by a tuple (value, hints…).</p>
<p>Hints can be specified using up to four items:</p>
<blockquote>
<div><p>([<cite>format</cite>][[[, <cite>name_blanks</cite>], <cite>val_blanks</cite>], <cite>sep_blanks</cite>])</p>
</div></blockquote>
<p>where:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>format</cite> is a format string, e.g., “%+7d” or “%7.3f”.</p></li>
<li><p><cite>name_blanks</cite> is the number of blank characters after the name and
before the equal sign; zero by default.</p></li>
<li><p><cite>val_blanks</cite> is the number of blank characters after the equal sign and
before the value; zero by default.</p></li>
<li><p><cite>sep_blanks</cite> is the number of blanks after the value and before the next
label parameter or the label’s end; two by default.</p></li>
</ul>
</div></blockquote>
<p>Note the use of square brackets in the tuple expression above. If the first
hint value is a string, it is interpreted as <cite>format</cite>; otherwise, the <cite>format</cite>
is unspecified. After the optional format, values are interpreted as numbers
of blanks. If only one int is provided, it defines <cite>sep_blanks</cite>, with
<cite>val_blanks</cite> and <cite>name_blanks</cite> set to zero. If two trailing ints are provided,
they define <cite>val_blanks</cite> and <cite>sep_blanks</cite>, with <cite>name_blanks</cite> set to zero.</p>
<p>For example, if the name is “TEXP” and the value is 1.5, this is how hint
values are interpreted:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">no</span> <span class="n">hints</span><span class="o">&gt;</span>        <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>     <span class="o">-&gt;</span> <span class="s2">&quot;TEXP=1.5  &quot;</span>
<span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span>            <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TEXP=1.500  &quot;</span>
<span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>       <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TEXP=1.500    &quot;</span>
<span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>    <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TEXP= 1.500    &quot;</span>
<span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TEXP  = 1.500    &quot;</span>
<span class="mi">4</span>                 <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>     <span class="o">-&gt;</span> <span class="s2">&quot;TEXP=1.5    &quot;</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>            <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>     <span class="o">-&gt;</span> <span class="s2">&quot;TEXP= 1.5    &quot;</span>
<span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>         <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>     <span class="o">-&gt;</span> <span class="s2">&quot;TEXP  = 1.5    &quot;</span>
</pre></div>
</div>
<p>When the parameter value is a list, it is also possible to embed formatting
information on an item by item basis. Replace any item value by a tuple:</p>
<blockquote>
<div><p>(<cite>item`[, `format</cite>][[, <cite>blanks_before</cite>], <cite>blanks_after</cite>])</p>
</div></blockquote>
<p>where:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>format</cite> is a format string, e.g., “%+07d”, “%12.3e” or “%.4f”.</p></li>
<li><p><cite>blanks_before</cite> is the number of blanks before the value, after the left
parenthesis or comma; zero is the default.</p></li>
<li><p><cite>blanks_after</cite> is the number of blanks after the value and before the
next comma or the right parenthesis; zero is the default.</p></li>
</ul>
</div></blockquote>
<p>Here are some examples of a list with embedded formatting for a parameter
named “XY” with a value [7,6]:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%+02d</span><span class="s2">&quot;</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>       <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%+02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="s2">&quot;XY=[+07, 6]  &quot;</span>
<span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>             <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>      <span class="o">-&gt;</span> <span class="s2">&quot;XY=[7  , 6]  &quot;</span>
<span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">])</span>         <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>      <span class="o">-&gt;</span> <span class="s2">&quot;XY=[ 7  , 6]  &quot;</span>
<span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">])</span>    <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>  <span class="o">-&gt;</span> <span class="s2">&quot;XY=[07  , 6]  &quot;</span>
<span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">])</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>  <span class="o">-&gt;</span> <span class="s2">&quot;XY=[ 07  , 6]  &quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel.__str__">
<span class="sig-name descname"><span class="pre">__str__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel.__str__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel.__str__" title="Link to this definition"></a></dt>
<dd><p>Return str(self).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel._add_plus">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_add_plus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel._add_plus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel._add_plus" title="Link to this definition"></a></dt>
<dd><p>Insert a plus, if absent, at the end of the name within the indexing key.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel._args">
<span class="sig-name descname"><span class="pre">_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'get'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel._args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel._args" title="Link to this definition"></a></dt>
<dd><p>The numerical index or indices of the keyed item in the VICAR label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>int</em><em>, </em><em>name</em><em>, or </em><em>tuple</em>) – <p>The indexing key, interpreted as follows:</p>
<ul>
<li><p><em>int</em> = <cite>n</cite>: The “nth” parameter in the label. <cite>n</cite> can be positive or
negative.</p></li>
<li><p><em>str</em> = <cite>name</cite>: The first occurrence in the label of a parameter with
this name.</p></li>
<li><p>(<em>str</em>, <em>int</em>) = (<cite>name</cite>, <cite>n</cite>): The “nth” occurrence in the label of a
parameter with this name. <cite>n</cite> can be positive or negative.</p></li>
<li><p>(<em>str</em>, <em>str</em>) = (<cite>name</cite>, <cite>after</cite>): The first occurrence of parameter
<cite>name</cite> after the first occurrence of parameter <cite>after</cite> and before the
second occurrence of <cite>after</cite>.</p></li>
<li><p>(<em>str</em>, <em>str</em>, <em>any</em>) = (<cite>name</cite>, <cite>after</cite>, <cite>value</cite>): The first occurrence
of parameter <cite>name</cite> after the first location where <cite>after</cite> equals
<cite>value</cite> and before the next occurrence of <cite>after</cite>.</p></li>
</ul>
<p>The last two options make it easy to reference a VICAR label parameter
that is repeated. For example, label[“DAT_TIM”, “TASK”, “COPY”] uniquely
identifies the occurrence of “DAT_TIM” applicable to “TASK=’COPY’” when
there might be other “TASK” sections of the label containing other values
of “DAT_TIM”.</p>
<p>Append a “+” to <cite>name</cite> to expand upon the function’s behavior. With “get”,
it returns a list of matching indices rather than a single index. With
“set”, it will identify the index where a new parameter is to be inserted
if the key is not found.</p>
</p></li>
<li><p><strong>mode</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>One of:</p>
<ul>
<li><p>”get”: an error will be raised if the key does not exist.</p></li>
<li><p>”set”: a single index will be returned, indicating where in the label
to insert the new parameter.</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>A tuple containing:</p>
<ul class="simple">
<li><p>int or list[int]: The index or list of indices that identify matching
parameters. If the key contains a name ending in “+”, this is a list
starting with the “nth” occurrence; otherwise, it is a single int.</p></li>
<li><p>bool:  True if the identified parameter already exists; False if <cite>mode</cite> is
“set” and the int is the location to insert a new parameter.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(int or list, bool)</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IndexError</strong> – If any numeric component of the key is out of range.</p></li>
<li><p><strong>KeyError</strong> – If the parameter name is not present in the label (or the section of
    the label defined by <cite>after_name</cite> and <cite>after_value</cite>), or if the key format
    is unrecognized.</p></li>
<li><p><strong>TypeError</strong> – If the key is not a recognized type or contains a component that is
    not of  a recognized type.</p></li>
<li><p><strong>ValueError</strong> – If no identified parameter equals <cite>value</cite> or if no occurrence of
    <cite>after_name</cite> equals <cite>after_value</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel._finish_update">
<span class="sig-name descname"><span class="pre">_finish_update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel._finish_update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel._finish_update" title="Link to this definition"></a></dt>
<dd><p>Internal method to finish defining or re-defining the label’s content.</p>
<p>This must be called before any operation on the object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel._get_name">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_get_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel._get_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel._get_name" title="Link to this definition"></a></dt>
<dd><p>Get a name, if present, from the indexing key and remove any plus.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel._has_plus">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_has_plus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel._has_plus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel._has_plus" title="Link to this definition"></a></dt>
<dd><p>True if there is a plus at the end of the name within the indexing key.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel._interpret_listfmt">
<span class="sig-name descname"><span class="pre">_interpret_listfmt</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel._interpret_listfmt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel._interpret_listfmt" title="Link to this definition"></a></dt>
<dd><p>Get the _ListFormat from a value or tuple.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>item</strong> (<em>int</em><em>, </em><em>string</em><em>, </em><em>tuple</em><em>, </em><em>_ListFormat</em><em>, or </em><em>None</em>) – List element format hints.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Interpreted _ListFormat; None if there is no format.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>_ListFormat or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel._interpret_source">
<span class="sig-name descname"><span class="pre">_interpret_source</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fileio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel._interpret_source"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel._interpret_source" title="Link to this definition"></a></dt>
<dd><p>Interpret and validate a source object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>file</em><em>, </em><em>pathlib.Path</em><em>, </em><em>str</em><em>, </em><em>None</em><em>, </em><em>dict</em><em>, </em><em>list</em><em>, or </em><em>tuple</em>) – <p>A representation of VICAR label content:</p>
<ul>
<li><p><em>file</em>: The label string is read from the given, open file.</p></li>
<li><p><em>pathlib.Path</em>: The label string is read from the referenced file.</p></li>
<li><p><em>str</em>: First, a check is performed to see if it is path to an existing
file. If so, the label is read from that file; otherwise, the string is
itself interpreted as a VICAR label string.</p></li>
<li><p><em>None</em>: The returned VicarLabel only contains the required parameters
with their default values.</p></li>
<li><p><em>dict</em>: The label parameters are the names of the dictionary keys, given
in the order they were entered into the dictionary. Each dictionary
value is either the VICAR parameter value or a tuple(value, formatting
hints).</p></li>
<li><p><em>list</em>: The label is derived from the given sequence of (name, value) or
(name, value, formatting hints) tuples.</p></li>
<li><p><em>tuple</em>: A single parameter defined by (name, value) or (name, value,
formatting hints).</p></li>
</ul>
<p>See <code class="docutils literal notranslate"><span class="pre">Notes</span></code> for details about formatting hints.</p>
</p></li>
<li><p><strong>required</strong> (<em>bool</em><em>, </em><em>optional</em>) – True to insert any required VICAR parameters that are missing.</p></li>
<li><p><strong>fileio</strong> (<em>bool</em><em>, </em><em>optional</em>) – True to allow the source to be read from a file, file path string, or
pathlib.Path object. In this case, the file path is returned in addition
to the lists.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>A tuple containing:</p>
<ul class="simple">
<li><p>list[str]: List of names.</p></li>
<li><p>list[int, float, str, or list]: List of values.</p></li>
<li><p>list[_ValueFormat or None]: List of formatting hints.</p></li>
<li><p>pathlib.Path or None, optional: The pathlib.Path of the file if the label
was read from a file; otherwise, None. Included only if <cite>fileio</cite> is True.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(list, list, list[, pathlib.Path or None])</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>OSError</strong> – If <cite>fileio</cite> is True but a file could not be read.</p></li>
<li><p><strong>TypeError</strong> – If the source is an unrecognized type or contains an unrecognized
    type.</p></li>
<li><p><a class="reference internal" href="#vicar.VicarError" title="vicar.VicarError"><strong>VicarError</strong></a> – If the source violates the VICAR standard or a required VICAR
    parameter has an invalid value.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Formatting hints can be included wherever a VICAR parameter value is
specified. When defining label parameters using a list of tuples, use (name,
value, hints…) instead of (name, value). Elsewhere, simply replace the value
by a tuple (value, hints…).</p>
<p>Hints can be specified using up to four items:</p>
<blockquote>
<div><p>([<cite>format</cite>][[[, <cite>name_blanks</cite>], <cite>val_blanks</cite>], <cite>sep_blanks</cite>])</p>
</div></blockquote>
<p>where:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>format</cite> is a format string, e.g., “%+7d” or “%7.3f”.</p></li>
<li><p><cite>name_blanks</cite> is the number of blank characters after the name and
before the equal sign; zero by default.</p></li>
<li><p><cite>val_blanks</cite> is the number of blank characters after the equal sign and
before the value; zero by default.</p></li>
<li><p><cite>sep_blanks</cite> is the number of blanks after the value and before the next
label parameter or the label’s end; two by default.</p></li>
</ul>
</div></blockquote>
<p>Note the use of square brackets in the tuple expression above. If the first
hint value is a string, it is interpreted as <cite>format</cite>; otherwise, the <cite>format</cite>
is unspecified. After the optional format, values are interpreted as numbers
of blanks. If only one int is provided, it defines <cite>sep_blanks</cite>, with
<cite>val_blanks</cite> and <cite>name_blanks</cite> set to zero. If two trailing ints are provided,
they define <cite>val_blanks</cite> and <cite>sep_blanks</cite>, with <cite>name_blanks</cite> set to zero.</p>
<p>For example, if the name is “TEXP” and the value is 1.5, this is how hint
values are interpreted:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">no</span> <span class="n">hints</span><span class="o">&gt;</span>        <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>     <span class="o">-&gt;</span> <span class="s2">&quot;TEXP=1.5  &quot;</span>
<span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span>            <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TEXP=1.500  &quot;</span>
<span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>       <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TEXP=1.500    &quot;</span>
<span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>    <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TEXP= 1.500    &quot;</span>
<span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TEXP  = 1.500    &quot;</span>
<span class="mi">4</span>                 <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>     <span class="o">-&gt;</span> <span class="s2">&quot;TEXP=1.5    &quot;</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>            <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>     <span class="o">-&gt;</span> <span class="s2">&quot;TEXP= 1.5    &quot;</span>
<span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>         <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>     <span class="o">-&gt;</span> <span class="s2">&quot;TEXP  = 1.5    &quot;</span>
</pre></div>
</div>
<p>When the parameter value is a list, it is also possible to embed formatting
information on an item by item basis. Replace any item value by a tuple:</p>
<blockquote>
<div><p>(<cite>item`[, `format</cite>][[, <cite>blanks_before</cite>], <cite>blanks_after</cite>])</p>
</div></blockquote>
<p>where:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>format</cite> is a format string, e.g., “%+07d”, “%12.3e” or “%.4f”.</p></li>
<li><p><cite>blanks_before</cite> is the number of blanks before the value, after the left
parenthesis or comma; zero is the default.</p></li>
<li><p><cite>blanks_after</cite> is the number of blanks after the value and before the
next comma or the right parenthesis; zero is the default.</p></li>
</ul>
</div></blockquote>
<p>Here are some examples of a list with embedded formatting for a parameter
named “XY” with a value [7,6]:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%+02d</span><span class="s2">&quot;</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>       <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%+02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="s2">&quot;XY=[+07, 6]  &quot;</span>
<span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>             <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>      <span class="o">-&gt;</span> <span class="s2">&quot;XY=[7  , 6]  &quot;</span>
<span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">])</span>         <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>      <span class="o">-&gt;</span> <span class="s2">&quot;XY=[ 7  , 6]  &quot;</span>
<span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">])</span>    <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>  <span class="o">-&gt;</span> <span class="s2">&quot;XY=[07  , 6]  &quot;</span>
<span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">])</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>  <span class="o">-&gt;</span> <span class="s2">&quot;XY=[ 07  , 6]  &quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel._interpret_valfmt">
<span class="sig-name descname"><span class="pre">_interpret_valfmt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">listfmts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel._interpret_valfmt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel._interpret_valfmt" title="Link to this definition"></a></dt>
<dd><p>Get the _ValueFormat from a value or tuple.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item</strong> (<em>int</em><em>, </em><em>string</em><em>, </em><em>tuple</em><em>, </em><em>_ValueFormat</em><em>, or </em><em>None</em>) – Value format hints.</p></li>
<li><p><strong>listfmt</strong> (<em>list</em><em>[</em><em>_ListFormat</em><em>[</em><em>, </em><em>optional</em>) – Formats for list elements.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Interpreted _ValueFormat; None if no formatting hints were provided.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>_ValueFormat or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel._interpret_value_format">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_interpret_value_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel._interpret_value_format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel._interpret_value_format" title="Link to this definition"></a></dt>
<dd><p>Get the value and optional format from a (value, optional format info) tuple.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>item</strong> (<em>int</em><em>, </em><em>float</em><em>, </em><em>string</em><em>, </em><em>list</em><em>, or </em><em>tuple</em>) – VICAR parameter value with optional formatting hints.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>A tuple containing:</p>
<ul class="simple">
<li><p>int, float, string, or list: The interpreted value.</p></li>
<li><p>_ValueFormat or None: Formatting hints if provided; None otherwise.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(any, _ValueFormat or None)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel._n123_from_nbls">
<span class="sig-name descname"><span class="pre">_n123_from_nbls</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel._n123_from_nbls"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel._n123_from_nbls" title="Link to this definition"></a></dt>
<dd><p>Fill in the N1, N2, N3 parameters given values of NB, NL, NS and ORG.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel._nbls_from_n123">
<span class="sig-name descname"><span class="pre">_nbls_from_n123</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel._nbls_from_n123"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel._nbls_from_n123" title="Link to this definition"></a></dt>
<dd><p>Fill in the NB, NL, NS parameters given values of N1, N2, N3 and ORG.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel._prep_for_export">
<span class="sig-name descname"><span class="pre">_prep_for_export</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel._prep_for_export"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel._prep_for_export" title="Link to this definition"></a></dt>
<dd><p>Update the label’s LBLSIZE and EOL values in preparation for export.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>resize</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, LBLSIZE will be modified to accommodate the new content.
Otherwise, the current value of LBLSIZE will be preserved and any overflow
content will be placed into an end-of-file (“EOL”) label. In this case, a
second LBLSIZE parameter will mark the starting location of this label.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel._remove_plus">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_remove_plus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel._remove_plus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel._remove_plus" title="Link to this definition"></a></dt>
<dd><p>Remove a plus, if present, from the end of the name within the indexing key.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel._set_n321">
<span class="sig-name descname"><span class="pre">_set_n321</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel._set_n321"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel._set_n321" title="Link to this definition"></a></dt>
<dd><p>Set the values of N1, N2, N3.</p>
<p>NB, NL, and NS will be derived from these, depending on the ORG.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n3</strong> (<em>int</em>) – Value for N3.</p></li>
<li><p><strong>n2</strong> (<em>int</em>) – Value for N2.</p></li>
<li><p><strong>n1</strong> (<em>int</em>) – Value for N1.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel._set_nbls">
<span class="sig-name descname"><span class="pre">_set_nbls</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ns</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel._set_nbls"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel._set_nbls" title="Link to this definition"></a></dt>
<dd><p>Set the values of NB, NL, NS.</p>
<p>N1, N2, and N3 will be derived from these, depending on the ORG.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nb</strong> (<em>int</em>) – Value for NB.</p></li>
<li><p><strong>nl</strong> (<em>int</em>) – Value for NL.</p></li>
<li><p><strong>ns</strong> (<em>int</em>) – Value for NS.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel._update">
<span class="sig-name descname"><span class="pre">_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmts</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel._update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel._update" title="Link to this definition"></a></dt>
<dd><p>Internal method to define or re-define the label’s content.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>names</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – List of names, already validated.</p></li>
<li><p><strong>vals</strong> (<em>list</em>) – List of values, already validated.</p></li>
<li><p><strong>fmts</strong> (<em>list</em><em>[</em><em>_ValueFormat</em><em> or </em><em>None</em><em>]</em>) – List of formatting hints, validated.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel._validate_name">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_validate_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel._validate_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel._validate_name" title="Link to this definition"></a></dt>
<dd><p>Raise a VicarError if this is not valid name for a VICAR label parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – VICAR parameter name.</p></li>
<li><p><strong>strict</strong> (<em>bool</em><em>, </em><em>optional</em>) – True for strict VICAR conformance, False for loose.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#vicar.VicarError" title="vicar.VicarError"><strong>VicarError</strong></a> – If this is not a valid VICAR parameter name.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel._validate_required">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_validate_required</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">append</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel._validate_required"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel._validate_required" title="Link to this definition"></a></dt>
<dd><p>Validate that the required VICAR parameters are all present and valid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>names</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – List of names.</p></li>
<li><p><strong>vals</strong> (<em>list</em><em>[</em><em>int</em><em>, </em><em>float</em><em>, </em><em>str</em><em>, or </em><em>list</em><em>]</em>) – List of values.</p></li>
<li><p><strong>fmts</strong> (<em>list</em><em>[</em><em>_ValueFormat</em><em> or </em><em>None</em><em>]</em>) – List of formatting hints.</p></li>
<li><p><strong>append</strong> (<em>bool</em><em>, </em><em>optional</em>) – True to append any missing required VICAR parameters.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>A tuple containing:</p>
<ul class="simple">
<li><p>list[str]: List of names.</p></li>
<li><p>list[int, float, str, or list]: List of values.</p></li>
<li><p>list[_ValueFormat or None]: List of formatting hints.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(list, list, list)</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#vicar.VicarError" title="vicar.VicarError"><strong>VicarError</strong></a> – A name or value violates the VICAR standard.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel._validate_value">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_validate_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel._validate_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel._validate_value" title="Link to this definition"></a></dt>
<dd><p>Raise a VicarError if this is not valid value for a VICAR label parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>int</em><em>, </em><em>float</em><em>, </em><em>string</em><em>, or </em><em>list</em>) – VICAR parameter value.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – Name of the VICAR parameter.</p></li>
<li><p><strong>strict</strong> (<em>bool</em><em>, </em><em>optional</em>) – True for strict VICAR conformance, False for loose.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#vicar.VicarError" title="vicar.VicarError"><strong>VicarError</strong></a> – If this is not a valid VICAR parameter value.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel.append">
<span class="sig-name descname"><span class="pre">append</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel.append"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel.append" title="Link to this definition"></a></dt>
<dd><p>Append the additional content to the end of this label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>source</strong> (<em>file</em><em>, </em><em>pathlib.Path</em><em>, </em><em>str</em><em>, </em><em>None</em><em>, </em><em>dict</em><em>, </em><em>list</em><em>, or </em><em>tuple</em>) – <p>A representation of VICAR label content:</p>
<ul class="simple">
<li><p><em>file</em>: The label string is read from the given, open file.</p></li>
<li><p><em>pathlib.Path</em>: The label string is read from the referenced file.</p></li>
<li><p><em>str</em>: First, a check is performed to see if it is path to an existing
file. If so, the label is read from that file; otherwise, the string is
itself interpreted as a VICAR label string.</p></li>
<li><p><em>None</em>: The returned VicarLabel only contains the required parameters
with their default values.</p></li>
<li><p><em>dict</em>: The label parameters are the names of the dictionary keys, given
in the order they were entered into the dictionary. Each dictionary
value is either the VICAR parameter value or a tuple(value, formatting
hints).</p></li>
<li><p><em>list</em>: The label is derived from the given sequence of (name, value) or
(name, value, formatting hints) tuples.</p></li>
<li><p><em>tuple</em>: A single parameter defined by (name, value) or (name, value,
formatting hints).</p></li>
</ul>
<p>See <code class="docutils literal notranslate"><span class="pre">Notes</span></code> for details about formatting hints.</p>
</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>OSError</strong> – If the source is given as a file path that cannot be read.</p></li>
<li><p><strong>TypeError</strong> – If the source is an unrecognized type or contains an unrecognized
    type.</p></li>
<li><p><a class="reference internal" href="#vicar.VicarError" title="vicar.VicarError"><strong>VicarError</strong></a> – If the source violates the VICAR standard or a required VICAR
    parameter has an invalid value.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Formatting hints can be included wherever a VICAR parameter value is
specified. When defining label parameters using a list of tuples, use (name,
value, hints…) instead of (name, value). Elsewhere, simply replace the value
by a tuple (value, hints…).</p>
<p>Hints can be specified using up to four items:</p>
<blockquote>
<div><p>([<cite>format</cite>][[[, <cite>name_blanks</cite>], <cite>val_blanks</cite>], <cite>sep_blanks</cite>])</p>
</div></blockquote>
<p>where:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>format</cite> is a format string, e.g., “%+7d” or “%7.3f”.</p></li>
<li><p><cite>name_blanks</cite> is the number of blank characters after the name and
before the equal sign; zero by default.</p></li>
<li><p><cite>val_blanks</cite> is the number of blank characters after the equal sign and
before the value; zero by default.</p></li>
<li><p><cite>sep_blanks</cite> is the number of blanks after the value and before the next
label parameter or the label’s end; two by default.</p></li>
</ul>
</div></blockquote>
<p>Note the use of square brackets in the tuple expression above. If the first
hint value is a string, it is interpreted as <cite>format</cite>; otherwise, the <cite>format</cite>
is unspecified. After the optional format, values are interpreted as numbers
of blanks. If only one int is provided, it defines <cite>sep_blanks</cite>, with
<cite>val_blanks</cite> and <cite>name_blanks</cite> set to zero. If two trailing ints are provided,
they define <cite>val_blanks</cite> and <cite>sep_blanks</cite>, with <cite>name_blanks</cite> set to zero.</p>
<p>For example, if the name is “TEXP” and the value is 1.5, this is how hint
values are interpreted:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">no</span> <span class="n">hints</span><span class="o">&gt;</span>        <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>     <span class="o">-&gt;</span> <span class="s2">&quot;TEXP=1.5  &quot;</span>
<span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span>            <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TEXP=1.500  &quot;</span>
<span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>       <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TEXP=1.500    &quot;</span>
<span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>    <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TEXP= 1.500    &quot;</span>
<span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TEXP  = 1.500    &quot;</span>
<span class="mi">4</span>                 <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>     <span class="o">-&gt;</span> <span class="s2">&quot;TEXP=1.5    &quot;</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>            <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>     <span class="o">-&gt;</span> <span class="s2">&quot;TEXP= 1.5    &quot;</span>
<span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>         <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>     <span class="o">-&gt;</span> <span class="s2">&quot;TEXP  = 1.5    &quot;</span>
</pre></div>
</div>
<p>When the parameter value is a list, it is also possible to embed formatting
information on an item by item basis. Replace any item value by a tuple:</p>
<blockquote>
<div><p>(<cite>item`[, `format</cite>][[, <cite>blanks_before</cite>], <cite>blanks_after</cite>])</p>
</div></blockquote>
<p>where:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>format</cite> is a format string, e.g., “%+07d”, “%12.3e” or “%.4f”.</p></li>
<li><p><cite>blanks_before</cite> is the number of blanks before the value, after the left
parenthesis or comma; zero is the default.</p></li>
<li><p><cite>blanks_after</cite> is the number of blanks after the value and before the
next comma or the right parenthesis; zero is the default.</p></li>
</ul>
</div></blockquote>
<p>Here are some examples of a list with embedded formatting for a parameter
named “XY” with a value [7,6]:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%+02d</span><span class="s2">&quot;</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>       <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%+02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="s2">&quot;XY=[+07, 6]  &quot;</span>
<span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>             <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>      <span class="o">-&gt;</span> <span class="s2">&quot;XY=[7  , 6]  &quot;</span>
<span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">])</span>         <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>      <span class="o">-&gt;</span> <span class="s2">&quot;XY=[ 7  , 6]  &quot;</span>
<span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">])</span>    <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>  <span class="o">-&gt;</span> <span class="s2">&quot;XY=[07  , 6]  &quot;</span>
<span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">])</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>  <span class="o">-&gt;</span> <span class="s2">&quot;XY=[ 07  , 6]  &quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel.arg">
<span class="sig-name descname"><span class="pre">arg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel.arg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel.arg" title="Link to this definition"></a></dt>
<dd><p>The numerical index or indices of the keyed item in the VICAR label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>int</em><em>, </em><em>name</em><em>, or </em><em>tuple</em>) – <p>The indexing key, interpreted as follows:</p>
<ul>
<li><p><em>int</em> = <cite>n</cite>: The “nth” parameter in the label. <cite>n</cite> can be positive or
negative.</p></li>
<li><p><em>str</em> = <cite>name</cite>: The first occurrence in the label of a parameter with
this name.</p></li>
<li><p>(<em>str</em>, <em>int</em>) = (<cite>name</cite>, <cite>n</cite>): The “nth” occurrence in the label of a
parameter with this name. <cite>n</cite> can be positive or negative.</p></li>
<li><p>(<em>str</em>, <em>str</em>) = (<cite>name</cite>, <cite>after</cite>): The first occurrence of parameter
<cite>name</cite> after the first occurrence of parameter <cite>after</cite> and before the
second occurrence of <cite>after</cite>.</p></li>
<li><p>(<em>str</em>, <em>str</em>, <em>any</em>) = (<cite>name</cite>, <cite>after</cite>, <cite>value</cite>): The first occurrence
of parameter <cite>name</cite> after the first location where <cite>after</cite> equals
<cite>value</cite> and before the next occurrence of <cite>after</cite>.</p></li>
</ul>
<p>The last two options make it easy to reference a VICAR label parameter
that is repeated. For example, label[“DAT_TIM”, “TASK”, “COPY”] uniquely
identifies the occurrence of “DAT_TIM” applicable to “TASK=’COPY’” when
there might be other “TASK” sections of the label containing other values
of “DAT_TIM”.</p>
<p>Append a “+” to the name to return a list of all indices where the
constraints are satisfied, starting with the first or “nth”.</p>
</p></li>
<li><p><strong>value</strong> (<em>int</em><em>, </em><em>float</em><em>, or </em><em>string</em><em>, </em><em>optional</em>) – If provided, the identified parameter must equal this value. For an
integer key, if the indexed parameter does not have this value, ValueError
is raised. For any key involving a name, values of the named parameter
that do not match <cite>value</cite> are skipped over until the one(s) with the
correct value are found.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index or list of indices that identify matching parameters. If the key
contains a name ending in “+”, this is a list starting with the “nth”
occurrence; otherwise, it is a single int.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int or list[int]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IndexError</strong> – If any numeric component of the key is out of range.</p></li>
<li><p><strong>KeyError</strong> – If the parameter name is not present in the label (or the section of
    the label defined by <cite>after_name</cite> and <cite>after_value</cite>), or if the key format
    is unrecognized.</p></li>
<li><p><strong>TypeError</strong> – If the key is not a recognized type or contains a component that is
    not of a recognized type.</p></li>
<li><p><strong>ValueError</strong> – If no identified parameter equals <cite>value</cite> or if no occurrence of
    <cite>after_name</cite> equals <cite>after_value</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel.args">
<span class="sig-name descname"><span class="pre">args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel.args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel.args" title="Link to this definition"></a></dt>
<dd><p>Iterator over the numerical indices of the keywords.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pattern</strong> (<em>str</em><em> or </em><em>re.Pattern</em><em>, </em><em>optional</em>) – Regular expression that can be used to filter the label parameter names.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The indices of the matching parameter names within this label, in order.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>iterator</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel.as_string">
<span class="sig-name descname"><span class="pre">as_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel.as_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel.as_string" title="Link to this definition"></a></dt>
<dd><p>The content of this label as a string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<em>int</em><em>, </em><em>optional</em>) – Index or key of the first parameter to include in the string.</p></li>
<li><p><strong>stop</strong> (<em>int</em><em>, </em><em>optional</em>) – Index or key just after the last parameter to include in the string.</p></li>
<li><p><strong>sep</strong> (<em>str</em><em>, </em><em>optional</em>) – Optional characters to insert before a second LBLSIZE. For example, use
“n” to create a string with a line break before any extension label.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A label string compliant with the VICAR standard.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel.copy" title="Link to this definition"></a></dt>
<dd><p>An independent (deep) copy of this VicarLabel.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The copy.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#vicar.VicarLabel" title="vicar.VicarLabel">VicarLabel</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel.export">
<span class="sig-name descname"><span class="pre">export</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel.export"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel.export" title="Link to this definition"></a></dt>
<dd><p>Export this VicarLabel to text strings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>resize</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, LBLSIZE will be modified to accommodate the new content.
Otherwise, the current value of LBLSIZE will be preserved and any overflow
content will be placed into an end-of-file label.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>A tuple containing:</p>
<ul class="simple">
<li><p>str: The VICAR label at the top of the file, as constrained by the internal
values of LBLSIZE and RECSIZE. The string is padded with null characters to
the full length specified by LBLSIZE.</p></li>
<li><p>str: The VICAR end-of-file label; empty if all the label content fits within
the specified LBLSIZE.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(str, str)</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The returned strings must be encoded as “latin8” bytes before writing them
into a data file.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel.from_file">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel.from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel.from_file" title="Link to this definition"></a></dt>
<dd><p>A new VicarLabel object derived from the given VICAR data file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filepath</strong> (<em>str</em><em> or </em><em>pathlib.Path</em>) – Path to a VICAR data file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>VicarLabel object read from file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#vicar.VicarLabel" title="vicar.VicarLabel">VicarLabel</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel.get" title="Link to this definition"></a></dt>
<dd><p>Retrieve the value of the VICAR parameter defined by the given key, using
various indexing options.</p>
<p>If the key is not found, return a specified default value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>int</em><em>, </em><em>str</em><em>, or </em><em>tuple</em>) – <p>The indexing key, interpreted as follows:</p>
<ul>
<li><p><em>int</em> = <cite>n</cite>: The “nth” parameter in the label. <cite>n</cite> can be positive or
negative.</p></li>
<li><p><em>str</em> = <cite>name</cite>: The first occurrence in the label of a parameter with
this name.</p></li>
<li><p>(<em>str</em>, <em>int</em>) = (<cite>name</cite>, <cite>n</cite>): The “nth” occurrence in the label of a
parameter with this name. <cite>n</cite> can be positive or negative.</p></li>
<li><p>(<em>str</em>, <em>str</em>) = (<cite>name</cite>, <cite>after</cite>): The first occurrence of parameter
<cite>name</cite> after the first occurrence of parameter <cite>after</cite> and before the
second occurrence of <cite>after</cite>.</p></li>
<li><p>(<em>str</em>, <em>str</em>, <em>any</em>) = (<cite>name</cite>, <cite>after</cite>, <cite>value</cite>): The first occurrence
of parameter <cite>name</cite> after the first location where <cite>after</cite> equals
<cite>value</cite> and before the next occurrence of <cite>after</cite>.</p></li>
</ul>
<p>The last two options make it easy to reference a VICAR label parameter
that is repeated. For example, label[“DAT_TIM”, “TASK”, “COPY”] uniquely
identifies the occurrence of “DAT_TIM” applicable to “TASK=’COPY’” when
there might be other “TASK” sections of the label containing other values
of “DAT_TIM”.</p>
<p>Append a “+” to the name to return a list of all values where the
constraints are satisfied, starting with the first or “nth”.</p>
</p></li>
<li><p><strong>default</strong> (<em>int</em><em>, </em><em>float</em><em>, </em><em>str</em><em>, or </em><em>list</em>) – The value to return if the key is not
found.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>If a name is provided that ends in a plus, the returned value will be the
list of all values of the selected key, or else <cite>[default]</cite> if the key
would raise an error.</p>
<p>Otherwise, the returned value is that of the key if present, or <cite>default</cite>
if it is not.</p>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int, float, str, or list</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IndexError</strong> – If any numeric component of the key is out of range.</p></li>
<li><p><strong>KeyError</strong> – If the parameter name is not present in the label (or the section of
    the label defined by <cite>after_name</cite> and <cite>after_value</cite>), or if the key format
    is unrecognized.</p></li>
<li><p><strong>TypeError</strong> – If the key is not a recognized type or contains a component that is
    not of a recognized type.</p></li>
<li><p><strong>ValueError</strong> – If no identified parameter equals <cite>value</cite> or if no occurrence of
    <cite>after_name</cite> equals <cite>after_value</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel.insert">
<span class="sig-name descname"><span class="pre">insert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel.insert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel.insert" title="Link to this definition"></a></dt>
<dd><p>Insert the given content into this label at the specified index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>file</em><em>, </em><em>pathlib.Path</em><em>, </em><em>str</em><em>, </em><em>dict</em><em>, </em><em>list</em><em>, or </em><em>tuple</em>) – <p>A representation of VICAR label content:</p>
<ul>
<li><p><em>file</em>: The label string is read from the given, open file.</p></li>
<li><p><em>pathlib.Path</em>: The label string is read from the referenced file.</p></li>
<li><p><em>str</em>: First, a check is performed to see if it is path to an existing
file. If so, the label is read from that file; otherwise, the string is
itself interpreted as a VICAR label string.</p></li>
<li><p><em>dict</em>: The label parameters are the names of the dictionary keys, given
in the order they were entered into the dictionary. Each dictionary
value is either the VICAR parameter value or a tuple(value, formatting
hints).</p></li>
<li><p><em>list</em>: The label is derived from the given sequence of (name, value) or
(name, value, formatting hints) tuples.</p></li>
<li><p><em>tuple</em>: A single parameter defined by (name, value) or (name, value,
formatting hints).</p></li>
</ul>
<p>See <code class="docutils literal notranslate"><span class="pre">Notes</span></code> for details about formatting hints.</p>
</p></li>
<li><p><strong>indx</strong> (<em>int</em>) – The integer index defining the location at which to insert the new
content. If the index is non-negative, the new new content will begin at
this index. If negative, the new content will end just before this index.
To append, to the label, use indx = len(self).</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>OSError</strong> – If the source is given as a file path that cannot be read.</p></li>
<li><p><strong>TypeError</strong> – If the source is an unrecognized type or contains an unrecognized
    type.</p></li>
<li><p><a class="reference internal" href="#vicar.VicarError" title="vicar.VicarError"><strong>VicarError</strong></a> – If the source violates the VICAR standard or a required VICAR
    parameter has an invalid value.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Formatting hints can be included wherever a VICAR parameter value is
specified. When defining label parameters using a list of tuples, use (name,
value, hints…) instead of (name, value). Elsewhere, simply replace the value
by a tuple (value, hints…).</p>
<p>Hints can be specified using up to four items:</p>
<blockquote>
<div><p>([<cite>format</cite>][[[, <cite>name_blanks</cite>], <cite>val_blanks</cite>], <cite>sep_blanks</cite>])</p>
</div></blockquote>
<p>where:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>format</cite> is a format string, e.g., “%+7d” or “%7.3f”.</p></li>
<li><p><cite>name_blanks</cite> is the number of blank characters after the name and
before the equal sign; zero by default.</p></li>
<li><p><cite>val_blanks</cite> is the number of blank characters after the equal sign and
before the value; zero by default.</p></li>
<li><p><cite>sep_blanks</cite> is the number of blanks after the value and before the next
label parameter or the label’s end; two by default.</p></li>
</ul>
</div></blockquote>
<p>Note the use of square brackets in the tuple expression above. If the first
hint value is a string, it is interpreted as <cite>format</cite>; otherwise, the <cite>format</cite>
is unspecified. After the optional format, values are interpreted as numbers
of blanks. If only one int is provided, it defines <cite>sep_blanks</cite>, with
<cite>val_blanks</cite> and <cite>name_blanks</cite> set to zero. If two trailing ints are provided,
they define <cite>val_blanks</cite> and <cite>sep_blanks</cite>, with <cite>name_blanks</cite> set to zero.</p>
<p>For example, if the name is “TEXP” and the value is 1.5, this is how hint
values are interpreted:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">no</span> <span class="n">hints</span><span class="o">&gt;</span>        <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>     <span class="o">-&gt;</span> <span class="s2">&quot;TEXP=1.5  &quot;</span>
<span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span>            <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TEXP=1.500  &quot;</span>
<span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>       <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TEXP=1.500    &quot;</span>
<span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>    <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TEXP= 1.500    &quot;</span>
<span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TEXP  = 1.500    &quot;</span>
<span class="mi">4</span>                 <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>     <span class="o">-&gt;</span> <span class="s2">&quot;TEXP=1.5    &quot;</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>            <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>     <span class="o">-&gt;</span> <span class="s2">&quot;TEXP= 1.5    &quot;</span>
<span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>         <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>     <span class="o">-&gt;</span> <span class="s2">&quot;TEXP  = 1.5    &quot;</span>
</pre></div>
</div>
<p>When the parameter value is a list, it is also possible to embed formatting
information on an item by item basis. Replace any item value by a tuple:</p>
<blockquote>
<div><p>(<cite>item`[, `format</cite>][[, <cite>blanks_before</cite>], <cite>blanks_after</cite>])</p>
</div></blockquote>
<p>where:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>format</cite> is a format string, e.g., “%+07d”, “%12.3e” or “%.4f”.</p></li>
<li><p><cite>blanks_before</cite> is the number of blanks before the value, after the left
parenthesis or comma; zero is the default.</p></li>
<li><p><cite>blanks_after</cite> is the number of blanks after the value and before the
next comma or the right parenthesis; zero is the default.</p></li>
</ul>
</div></blockquote>
<p>Here are some examples of a list with embedded formatting for a parameter
named “XY” with a value [7,6]:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%+02d</span><span class="s2">&quot;</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>       <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%+02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="s2">&quot;XY=[+07, 6]  &quot;</span>
<span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>             <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>      <span class="o">-&gt;</span> <span class="s2">&quot;XY=[7  , 6]  &quot;</span>
<span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">])</span>         <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>      <span class="o">-&gt;</span> <span class="s2">&quot;XY=[ 7  , 6]  &quot;</span>
<span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">])</span>    <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>  <span class="o">-&gt;</span> <span class="s2">&quot;XY=[07  , 6]  &quot;</span>
<span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">])</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%02d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">]</span>  <span class="o">-&gt;</span> <span class="s2">&quot;XY=[ 07  , 6]  &quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel.items">
<span class="sig-name descname"><span class="pre">items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unique</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel.items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel.items" title="Link to this definition"></a></dt>
<dd><p>Iterator over the (key, value) pairs in this label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> (<em>str</em><em> or </em><em>re.Pattern</em><em>, </em><em>optional</em>) – Regular expression that can be used to filter the label parameter names.</p></li>
<li><p><strong>unique</strong> (<em>bool</em><em>, </em><em>optional</em>) – True to return unique keys, in which non-unique names are replaced by
tuples (name, occurrence). If False, all keys are name strings, and a name
may appear multiple times.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The tuples (name, value) of the matching parameter names within this
label, in order.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>iterator</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel.keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel.keys" title="Link to this definition"></a></dt>
<dd><p>Iterator over the keys of the parameters within this label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pattern</strong> (<em>str</em><em> or </em><em>re.Pattern</em><em>, </em><em>optional</em>) – Regular expression that can be used to filter the label parameter names.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The list of the parameter keys within this label, in order. The key is the
parameter name if it is unique or (name, occurrence number) otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel.name_value_str">
<span class="sig-name descname"><span class="pre">name_value_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel.name_value_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel.name_value_str" title="Link to this definition"></a></dt>
<dd><p>Convert one entry in the dictionary to a string of the form “NAME=VALUE”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>int</em><em>, </em><em>str</em><em>, or </em><em>tuple</em>) – <p>The indexing key, interpreted as follows:</p>
<ul>
<li><p><em>int</em> = <cite>n</cite>: The “nth” parameter in the label. <cite>n</cite> can be positive or
negative.</p></li>
<li><p><em>str</em> = <cite>name</cite>: The first occurrence in the label of a parameter with
this name.</p></li>
<li><p>(<em>str</em>, <em>int</em>) = (<cite>name</cite>, <cite>n</cite>): The “nth” occurrence in the label of a
parameter with this name. <cite>n</cite> can be positive or negative.</p></li>
<li><p>(<em>str</em>, <em>str</em>) = (<cite>name</cite>, <cite>after</cite>): The first occurrence of parameter
<cite>name</cite> after the first occurrence of parameter <cite>after</cite> and before the
second occurrence of <cite>after</cite>.</p></li>
<li><p>(<em>str</em>, <em>str</em>, <em>any</em>) = (<cite>name</cite>, <cite>after</cite>, <cite>value</cite>): The first occurrence
of parameter <cite>name</cite> after the first location where <cite>after</cite> equals
<cite>value</cite> and before the next occurrence of <cite>after</cite>.</p></li>
</ul>
<p>The last two options make it easy to reference a VICAR label parameter
that is repeated. For example, label[“DAT_TIM”, “TASK”, “COPY”] uniquely
identifies the occurrence of “DAT_TIM” applicable to “TASK=’COPY’” when
there might be other “TASK” sections of the label containing other values
of “DAT_TIM”.</p>
</p></li>
<li><p><strong>pad</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, the returned string will end with at least one blank character.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A “NAME=VALUE” string compliant with the VICAR standard.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IndexError</strong> – If any numeric component of the key is out of range.</p></li>
<li><p><strong>KeyError</strong> – If the parameter name is not present in the label (or the section of
    the label defined by <cite>after_name</cite> and <cite>after_value</cite>), or if the key format
    is unrecognized.</p></li>
<li><p><strong>TypeError</strong> – If the key is not a recognized type or contains a component that is
    not of a recognized type.</p></li>
<li><p><strong>ValueError</strong> – If no identified parameter equals <cite>value</cite> or if no occurrence of
    <cite>after_name</cite> equals <cite>after_value</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel.names">
<span class="sig-name descname"><span class="pre">names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel.names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel.names" title="Link to this definition"></a></dt>
<dd><p>Iterator over the names in this label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pattern</strong> (<em>str</em><em> or </em><em>re.Pattern</em><em>, </em><em>optional</em>) – Regular expression that can be used to filter the label parameter names.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The list of the matching parameter names within this label, in order.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel.read_label">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">read_label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_extra</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel.read_label"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel.read_label" title="Link to this definition"></a></dt>
<dd><p>The VICAR label string from the specified data file.</p>
<p>If an EOL label is present, the content of the extension label is appended to the
returned string. This can be recognized by a second occurrence of the LBLSIZE
parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>str</em><em>, </em><em>pathlib.Path</em><em>, or </em><em>file</em>) – A path to a VICAR data file or else a file object already opened for
binary read.</p></li>
<li><p><strong>_extra</strong> (<em>bool</em><em>, </em><em>optional</em>) – True to return any extraneous bytes from the end of the data file in
addition to the label.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>A string or a tuple containing:</p>
<ul class="simple">
<li><p>str: The VICAR label as a character string, with the EOL label appended if
one is present. The EOL label can be recognized by the presence of a second
LBLSIZE parameter.</p></li>
<li><p>bytes: A bytes object containing any extraneous characters at the end of the
file, included if <cite>_extra</cite> is True.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str or (str, bytes)</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>OSError</strong> – If the referenced file could not be read.</p></li>
<li><p><a class="reference internal" href="#vicar.VicarError" title="vicar.VicarError"><strong>VicarError</strong></a> – If the referenced file does not conform to the VICAR standard.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel.reorder">
<span class="sig-name descname"><span class="pre">reorder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">keys</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel.reorder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel.reorder" title="Link to this definition"></a></dt>
<dd><p>Re-order one or more specified parameters inside this object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*keys</strong> (<em>list</em><em>[</em><em>int</em><em>, </em><em>name</em><em>, or </em><em>tuple</em><em>]</em>) – <p>Two or more indexing keys, interpreted as follows:</p>
<ul class="simple">
<li><p><em>int</em> = <cite>n</cite>: The “nth” parameter in the label. <cite>n</cite> can be positive or
negative.</p></li>
<li><p><em>str</em> = <cite>name</cite>: The first occurrence in the label of a parameter with
this name.</p></li>
<li><p>(<em>str</em>, <em>int</em>) = (<cite>name</cite>, <cite>n</cite>): The “nth” occurrence in the label of a
parameter with this name. <cite>n</cite> can be positive or negative.</p></li>
<li><p>(<em>str</em>, <em>str</em>) = (<cite>name</cite>, <cite>after</cite>): The first occurrence of parameter
<cite>name</cite> after the first occurrence of parameter <cite>after</cite> and before the
second occurrence of <cite>after</cite>.</p></li>
<li><p>(<em>str</em>, <em>str</em>, <em>any</em>) = (<cite>name</cite>, <cite>after</cite>, <cite>value</cite>): The first occurrence
of parameter <cite>name</cite> after the first location where <cite>after</cite> equals
<cite>value</cite> and before the next occurrence of <cite>after</cite>.</p></li>
</ul>
<p>The last two options make it easy to reference parameter in a label that
is re-used, such as to find the value of “DAT_TIM” applicable to
“TASK=’COPY’” when there might be other “TASK” sections of the label
containing other values of “DAT_TIM”.</p>
</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IndexError</strong> – If any numeric component of the key is out of range.</p></li>
<li><p><strong>KeyError</strong> – If the parameter name is not present in the label (or the section of
    the label defined by <cite>after_name</cite> and <cite>after_value</cite>), or if the key format
    is unrecognized.</p></li>
<li><p><strong>TypeError</strong> – If the key is not a recognized type or contains a component that is
    not of a recognized type.</p></li>
<li><p><strong>ValueError</strong> – If no identified parameter equals <cite>value</cite> or if no occurrence of
    <cite>after_name</cite> equals <cite>after_value</cite>. Also if an index is duplicated in the
    new order.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The first key is left in place, and subsequent keys are positioned after it in
the order given. Use “” in front of the first key if you want the listed keys
to be first.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel.value_str">
<span class="sig-name descname"><span class="pre">value_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel.value_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel.value_str" title="Link to this definition"></a></dt>
<dd><p>The value of the given parameter as it will appear in the label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>int</em><em>, </em><em>str</em><em>, or </em><em>tuple</em>) – <p>The indexing key, interpreted as follows:</p>
<ul class="simple">
<li><p><em>int</em> = <cite>n</cite>: The “nth” parameter in the label. <cite>n</cite> can be positive or
negative.</p></li>
<li><p><em>str</em> = <cite>name</cite>: The first occurrence in the label of a parameter with
this name.</p></li>
<li><p>(<em>str</em>, <em>int</em>) = (<cite>name</cite>, <cite>n</cite>): The “nth” occurrence in the label of a
parameter with this name. <cite>n</cite> can be positive or negative.</p></li>
<li><p>(<em>str</em>, <em>str</em>) = (<cite>name</cite>, <cite>after</cite>): The first occurrence of parameter
<cite>name</cite> after the first occurrence of parameter <cite>after</cite> and before the
second occurrence of <cite>after</cite>.</p></li>
<li><p>(<em>str</em>, <em>str</em>, <em>any</em>) = (<cite>name</cite>, <cite>after</cite>, <cite>value</cite>): The first occurrence
of parameter <cite>name</cite> after the first location where <cite>after</cite> equals
<cite>value</cite> and before the next occurrence of <cite>after</cite>.</p></li>
</ul>
<p>The last two options make it easy to reference a VICAR label parameter
that is repeated. For example, label[“DAT_TIM”, “TASK”, “COPY”] uniquely
identifies the occurrence of “DAT_TIM” applicable to “TASK=’COPY’” when
there might be other “TASK” sections of the label containing other values
of “DAT_TIM”.</p>
</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The VICAR-compliant string representing the value of the selected
parameter.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IndexError</strong> – If any numeric component of the key is out of range.</p></li>
<li><p><strong>KeyError</strong> – If the parameter name is not present in the label (or the section of
    the label defined by <cite>after_name</cite> and <cite>after_value</cite>), or if the key format
    is unrecognized.</p></li>
<li><p><strong>TypeError</strong> – If the key is not a recognized type or contains a component that is
    not of a recognized type.</p></li>
<li><p><strong>ValueError</strong> – If no identified parameter equals <cite>value</cite> or if no occurrence of
    <cite>after_name</cite> equals <cite>after_value</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel.values">
<span class="sig-name descname"><span class="pre">values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel.values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel.values" title="Link to this definition"></a></dt>
<dd><p>Iterator over the values in this VicarLabel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pattern</strong> (<em>str</em><em> or </em><em>re.Pattern</em><em>, </em><em>optional</em>) – Regular expression that can be used to filter the label parameter names.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The values of the matching parameters within this label, in order.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>iterator</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vicar.VicarLabel.write_label">
<span class="sig-name descname"><span class="pre">write_label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vicar/vicarlabel.html#VicarLabel.write_label"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vicar.VicarLabel.write_label" title="Link to this definition"></a></dt>
<dd><p>Replace the label in the selected VICAR file with this label content.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filepath</strong> (<em>str</em><em> or </em><em>pathlib.Path</em><em>, </em><em>optional</em>) – Optional path of the existing file to write. If not provided, the value of
this object’s filepath attribute is used.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method modifies the file without first creating a backup, so it should be
used with caution.</p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vicar.VicarLabel.filepath">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">filepath</span></span><a class="headerlink" href="#vicar.VicarLabel.filepath" title="Link to this definition"></a></dt>
<dd><p>The file path associated with this VicarLabel.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The Path if this object is associated with a file; None otherwise.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pathlib.Path or None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<section id="module-vicar._LABEL_GRAMMAR">
<span id="vicar-label-grammar"></span><h2>vicar._LABEL_GRAMMAR<a class="headerlink" href="#module-vicar._LABEL_GRAMMAR" title="Link to this heading"></a></h2>
<p>Definition of _LABEL_GRAMMAR, a <cite>pyparsing</cite> grammar supporting the VICAR format standard,
used internally. The full standard is defined here:</p>
<blockquote>
<div><p><a class="reference external" href="https://www-mipl.jpl.nasa.gov/external/VICAR_file_fmt.pdf">https://www-mipl.jpl.nasa.gov/external/VICAR_file_fmt.pdf</a></p>
</div></blockquote>
<p>_LABEL_GRAMMAR.parse_string(text) receives the contents of VICAR label and returns a list
of tuples. Each tuple defines the name and value of a label parameter. When the formatting
of that “name=value” pair is non-standard, the tuple provides additional information
indicating how the name and value were formatted. The tuple contains up to six items:</p>
<blockquote>
<div><p>(<cite>name</cite>, <cite>value</cite>, <cite>format</cite>, <cite>after_name</cite>, <cite>before_value</cite>, <cite>after_value</cite>)</p>
</div></blockquote>
<p>where:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>name</cite>: VICAR parameter name.</p></li>
<li><p><cite>value</cite>: Value of the parameter, represented by an int, float, string, or list.</p></li>
<li><p><cite>format</cite>: Optional format by which this value is represented in the label; included
only for ints and floats and only if the format is different from the representation
produced by str(value).</p></li>
<li><p><cite>name_blanks</cite>:  number of blank characters after the name and before the equal sign;
included only if this number is nonzero.</p></li>
<li><p><cite>value_blanks</cite>: number of blank characters after the equal sign and before the
value; included if this number is nonzero or if name_blanks is nonzero.</p></li>
<li><p><cite>sep_blanks</cite>: number of blank characters after this value and before either the next
value or the end of the label; included if this value does not equal 2 or if either
of the previous values is nonzero.</p></li>
</ul>
</div></blockquote>
<p>In other words, the possible tuples returned are these:</p>
<blockquote>
<div><ul class="simple">
<li><p>(<cite>name</cite>, <cite>value</cite>)</p></li>
<li><p>(<cite>name</cite>, <cite>value</cite>, <cite>format</cite>)</p></li>
<li><p>(<cite>name</cite>, <cite>value</cite>, <cite>format</cite>, <cite>sep_blanks</cite>)</p></li>
<li><p>(<cite>name</cite>, <cite>value</cite>, <cite>format</cite>, <cite>value_blanks</cite>, <cite>sep_blanks</cite>)</p></li>
<li><p>(<cite>name</cite>, <cite>value</cite>, <cite>format</cite>, <cite>name_blanks</cite>, <cite>value_blanks</cite>, <cite>sep_blanks</cite>)</p></li>
<li><p>(<cite>name</cite>, <cite>value</cite>, <cite>sep_blanks</cite>)</p></li>
<li><p>(<cite>name</cite>, <cite>value</cite>, <cite>value_blanks</cite>, <cite>sep_blanks</cite>)</p></li>
<li><p>(<cite>name</cite>, <cite>value</cite>, <cite>name_blanks</cite>, <cite>value_blanks</cite>, <cite>sep_blanks</cite>)</p></li>
</ul>
</div></blockquote>
<p>In summary:</p>
<blockquote>
<div><ul class="simple">
<li><p>The first two items in the tuple are always <cite>name</cite> and <cite>value</cite>.</p></li>
<li><p>The third item, if present and a string, is <cite>format</cite>.</p></li>
<li><p>Subsequent items are integers that define the number of blank characters surrounding
the equal sign and following the value’s end; these are included only if one or more
of their values are non-standard.</p></li>
</ul>
</div></blockquote>
<p>If the label value is a list, then each value in the parsed list is an int, float, or
tuple containing up to four values:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>value</cite>: The value of this item as an in int, float, or string.</p></li>
<li><p><cite>format</cite>: Optional format by which this value is represented in the label; included
only for ints and floats and only if the format is different from the representation
produced by str(value).</p></li>
<li><p><cite>blanks_before</cite>: Number of blanks before the item and after the left parenthesis or
comma; included only if this number is nonzero.</p></li>
<li><p><cite>blanks_after</cite>: Number of blanks after the value and before the next comma or the
right parenthesis; included if this number is nonzero or if blanks_before is nonzero.</p></li>
</ul>
</div></blockquote>
<p>In other words, the possible items in a parsed list are these:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>value</cite></p></li>
<li><p>(<cite>value</cite>, <cite>format</cite>)</p></li>
<li><p>(<cite>value</cite>, <cite>format</cite>, <cite>blanks_after</cite>)</p></li>
<li><p>(<cite>value</cite>, <cite>format</cite>, <cite>blanks_before</cite>, <cite>blanks_after</cite>)</p></li>
<li><p>(<cite>value</cite>, <cite>blanks_after</cite>)</p></li>
<li><p>(<cite>value</cite>, <cite>blanks_before</cite>, <cite>blanks_after</cite>)</p></li>
</ul>
</div></blockquote>
<p>Most users will only care about the name and value, but the remaining information in each
tuple is included in case the user wants to write out a label string that preserves the
formatting of the original source.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to vicar’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, PDS Ring-Moon Systems Node.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>